<!DOCTYPE html>
<html lang="no">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Adminpanel – Fjolsenbanden</title>
    <meta
      name="description"
      content="Administrer Fjolsenbandens portaler med et komplett backend-panel for branding, seksjoner og publisering."
    />
    <meta property="og:title" content="Adminpanel – Fjolsenbanden" />
    <meta
      property="og:description"
      content="Administrer Fjolsenbandens portaler med et komplett backend-panel for branding, seksjoner og publisering."
    />
    <meta property="og:image" content="/og-image.svg" />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/favicon.svg" />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
      crossorigin
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'system-ui', 'sans-serif'],
            },
            colors: {
              fj: {
                surface: '#020617',
                panel: '#0f172a',
              },
            },
          },
        },
      };
    </script>
    <style>
      :root {
        color-scheme: dark;
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background-color: #020617;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background:
          radial-gradient(1200px 800px at 85% 0%, rgba(88, 28, 135, 0.3), transparent 60%),
          radial-gradient(900px 700px at 10% 20%, rgba(16, 185, 129, 0.25), transparent 65%),
          radial-gradient(1400px 900px at 50% 120%, rgba(37, 99, 235, 0.22), transparent 70%),
          #020617;
        color: #e2e8f0;
        display: flex;
        align-items: stretch;
        justify-content: center;
      }

      body::before {
        content: '';
        position: fixed;
        inset: 0;
        pointer-events: none;
        background: linear-gradient(120deg, rgba(148, 163, 184, 0.08), transparent 40%),
          radial-gradient(600px 600px at 15% 25%, rgba(94, 234, 212, 0.18), transparent 70%);
        mix-blend-mode: screen;
        opacity: 0.8;
      }

      #root {
        position: relative;
        z-index: 1;
        flex: 1;
        min-height: 100vh;
        width: 100%;
      }

      @media (min-width: 768px) {
        body {
          padding: 32px 24px;
        }
      }
    </style>
  </head>
  <body class="bg-slate-950 text-slate-100">
    <div id="root"></div>
    <script type="module">
      const DEV_ENTRY = "/src/admin-main.jsx";
      const PROD_ENTRY = "/admin-assets/admin-app.js";

      const loadModule = async (specifier) => {
        try {
          await import(specifier);
          return true;
        } catch (error) {
          console.warn(`Kunne ikke laste modul: ${specifier}`, error);
          return false;
        }
      };

      const loadAdminApp = async () => {
        const loadedDevBundle = await loadModule(DEV_ENTRY);
        if (loadedDevBundle) {
          return;
        }

        const loadedProdBundle = await loadModule(PROD_ENTRY);
        if (!loadedProdBundle) {
          throw new Error("Ingen av admin-bundlene kunne lastes.");
        }
      };

      loadAdminApp().catch((error) => {
        console.error("Kunne ikke laste admin-panelet", error);
        const root = document.getElementById("root");
        if (!root) {
          return;
        }

        root.innerHTML = `
          <div class="flex min-h-screen flex-col items-center justify-center gap-3 bg-slate-950 px-6 text-center text-slate-100">
            <div class="text-lg font-semibold">Vi klarte ikke å laste admin-panelet.</div>
            <p class="max-w-md text-sm text-slate-400">
              Last inn siden på nytt eller ta kontakt med utvikler hvis problemet vedvarer.
            </p>
          </div>
        `;
      });
    </script>
  </body>
</html>
