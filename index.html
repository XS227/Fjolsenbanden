<!doctype html>

<html lang="nb">
<head>
  <meta charset="utf-8" />
  <title>FjOlsenbanden – Norges mest inkluderende gaming-community</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="FjOlsenbanden er Norges mest inkluderende gaming-community. En trygg arena for familier som elsker gaming."
  />
  <style>
    :root {
      --bg: #050b2b;
      --bg-alt: #071133;
      --card: #0d1636;
      --card-alt: #101a3e;
      --text: #ffffff;
      --muted: #a6b0d8;
      --primary: #00a6ff;
      --accent: #ff2da4;
      --radius-lg: 24px;
      --radius-md: 18px;
      --radius-pill: 999px;
      --shadow-soft: 0 24px 60px rgba(0, 0, 0, 0.6);
    }*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #020317;
  color: var(--text);
  scroll-behavior: smooth;
}

body {
  min-height: 100vh;
}

body {
  min-height: 100vh;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Layout */

.container {
  max-width: 1120px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

.section {
  padding: 5rem 0;
  background: radial-gradient(circle at center, #101a3e 0, #050b2b 55%, #020317 100%);
}

.section h2 {
  font-size: clamp(2rem, 3vw, 2.5rem);
  margin-bottom: 0.5rem;
  text-align: center;
}

.subtitle {
  color: var(--muted);
  max-width: 720px;
  margin: 0 auto 2.5rem;
  text-align: center;
}

/* Top nav */

.top-nav {
  position: sticky;
  top: 0;
  z-index: 999;
  background: rgba(5, 11, 43, 0.96);
  backdrop-filter: blur(18px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.75rem 1.5rem;
}

.logo img {
  height: 40px;
}

.nav-links {
  display: flex;
  gap: 1.5rem;
  font-size: 0.9rem;
}

.nav-links a {
  color: var(--muted);
}

.nav-links a:hover {
  color: var(--primary);
}

/* Buttons */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.85rem 1.7rem;
  border-radius: var(--radius-pill);
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95rem;
  transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

.btn.small {
  padding: 0.5rem 1.2rem;
  font-size: 0.85rem;
}

.btn-primary {
  background: var(--primary);
  color: #fff;
  box-shadow: 0 0 18px rgba(0, 166, 255, 0.45);
}

.btn-primary:hover {
  filter: brightness(1.05);
  transform: translateY(-1px);
}

.btn-secondary {
  background: var(--accent);
  color: #fff;
  box-shadow: 0 0 18px rgba(255, 45, 164, 0.45);
}

.btn-ghost {
  background: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
}

/* Generic cards */

.card {
  background: radial-gradient(circle at top left, var(--card-alt), var(--card));
  border-radius: var(--radius-lg);
  padding: 1.6rem 1.8rem;
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255, 255, 255, 0.04);
}

/* Hero */

.hero {
  padding-top: 6rem;
}

.hero-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 3rem;
  align-items: center;
}

.hero-text h1 {
  font-size: clamp(2.4rem, 3.5vw, 3rem);
  margin-bottom: 1rem;
}

.hero-text .lead {
  color: var(--muted);
  max-width: 32rem;
}

.pill {
  display: inline-flex;
  align-items: center;
  padding: 0.3rem 1rem;
  border-radius: var(--radius-pill);
  background: rgba(10, 20, 80, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 0.8rem;
  color: var(--muted);
  margin-bottom: 1rem;
}

.highlight {
  color: var(--primary);
}

.hero-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

.hero-card {
  position: relative;
  background: radial-gradient(circle at top left, #25105a, #0d1636);
  border-radius: 28px;
  padding: 1.5rem;
  box-shadow: var(--shadow-soft);
  text-align: center;
  overflow: hidden;
}

.hero-card img {
  width: 100%;
  border-radius: 22px;
  display: block;
}

.screen-effects::before {
  content: "";
  position: absolute;
  inset: 12% 8% auto;
  height: 40%;
  background: radial-gradient(circle, rgba(255, 92, 185, 0.28), transparent 60%);
  filter: blur(18px);
  transform: translateY(-10%);
}

.screen-effects .particle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  box-shadow: 0 0 18px rgba(255, 255, 255, 0.5);
  animation: float 6s ease-in-out infinite;
}

.screen-effects .particle:nth-child(1) {
  top: 18%;
  right: 22%;
  animation-delay: 0.5s;
}

.screen-effects .particle:nth-child(2) {
  bottom: 12%;
  left: 18%;
  animation-delay: 1.2s;
}

.screen-effects .particle:nth-child(3) {
  top: 8%;
  left: 10%;
  animation-delay: 2s;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-10px) scale(1.1);
  }
}

.hero-card-caption {
  margin-top: 0.75rem;
  font-size: 0.85rem;
  color: var(--muted);
}

/* About */

.about-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 2rem;
}

.card-large {
  border-radius: 28px;
}

.about-benefits {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.card-pill {
  border-radius: var(--radius-md);
}

.card-pill h4 {
  margin-top: 0;
}

/* Two column */

.two-column {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
  gap: 2rem;
}

.video-wrapper {
  padding: 0;
  overflow: hidden;
}

.video-wrapper iframe {
  border-radius: 24px;
  width: 100%;
  height: 100%;
  min-height: 260px;
}

    /* Feedback */

.feedback-title {
  text-align: center;
  font-size: clamp(2.4rem, 3.5vw, 3rem);
}

.feedback-intro {
  text-align: center;
}

.feedback-shell {
  margin-top: 2.5rem;
  background: #040c2b;
  border-radius: 40px;
  padding: 2.5rem 2.5rem 2rem;
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.feedback-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem 1.4rem;
  border-radius: var(--radius-pill);
  background: rgba(10, 20, 80, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 0.8rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  margin: 0 auto 2rem;
}

.feedback-tag span + span {
  margin-left: 0.4rem;
}

.feedback-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.5rem;
}

.feedback-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 210px;
  background: radial-gradient(circle at top left, #192554, #0b1433);
  border-radius: 26px;
  padding: 1.6rem 1.8rem;
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.feedback-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 20%, rgba(0, 166, 255, 0.08), transparent 40%),
    radial-gradient(circle at 80% 0%, rgba(255, 45, 164, 0.08), transparent 40%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.feedback-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.55), 0 0 24px rgba(0, 166, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.16);
}

.feedback-card:hover::after {
  opacity: 1;
}

.feedback-card p {
  margin: 0;
}

.feedback-name {
  margin-top: 1.2rem;
  font-weight: 600;
  color: var(--primary);
  text-align: right;
}

.feedback-name--orange {
  color: #ffb566;
}

.feedback-name--blue {
  color: #4cb4ff;
}

.feedback-name--teal {
  color: #3ad1b0;
}

.feedback-name--pink {
  color: #ff6aa8;
}

.feedback-name-accent {
  color: var(--accent);
}

.feedback-cta {
  margin-top: 3rem;
}

.center {
  text-align: center;
  margin-top: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

/* Membership */

.membership-card {
  max-width: 380px;
}

.badge {
  display: inline-block;
  padding: 0.25rem 0.9rem;
  border-radius: var(--radius-pill);
  background: rgba(255, 255, 255, 0.05);
  font-size: 0.8rem;
  color: var(--muted);
}

.price {
  font-size: 2.2rem;
  margin: 0.8rem 0 1.5rem;
}

.checklist {
  list-style: none;
  padding-left: 0;
  margin: 0 0 2rem;
  color: var(--muted);
}

.checklist li {
  margin-bottom: 0.4rem;
}

.membership-buttons {
  display: flex;
  gap: 0.75rem;
}

/* Socials */

.social-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 1.3rem;
}

.social-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-block: 2rem;
  gap: 0.3rem;
}

.social-icon img {
  width: 32px;
  height: 32px;
  object-fit: contain;
  margin-bottom: 0.25rem;
}

.social-number {
  font-size: 1.4rem;
  margin: 0.5rem 0;
}

.social-label {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

/* Partners */

.partners-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 1rem;
}

.partner {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.partner img {
  width: 120px;
  height: auto;
}


/* 3 kolonner på mellomstore skjermer, 2 kolonner på mobil */
@media (max-width: 900px) {
  .partners-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 600px) {
  .partners-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Services */

.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.8rem;
}

.service {
  text-align: left;
  position: relative;
  padding-top: 2.8rem;
}

.services-grid .service h3 {
  margin-top: 0.4rem;
  margin-bottom: 0.8rem;
  font-size: 1.05rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.services-grid .service p {
  margin-top: 0.6rem;
  line-height: 1.55;
  font-size: 0.92rem;
}

/* Ikon-effekt */

.service-icon-wrap {
  position: absolute;
  top: -24px;
  left: 24px;
  width: 70px;
  height: 70px;
}

.service-icon-bg {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 30%, #ffffff22, #00000000 70%);
  filter: blur(12px);
  border-radius: 50%;
}

.service-icon {
  width: 70px;
  height: 70px;
  margin-bottom: 0.8rem;
  object-fit: contain;
  position: relative;
  z-index: 2;
  filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.35))
          drop-shadow(0 0 12px rgba(0, 150, 255, 0.25));
  transition: transform 0.25s ease, filter 0.25s ease;
}

.service:hover .service-icon {
  transform: scale(1.05);
  filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.45))
          drop-shadow(0 0 18px rgba(0, 150, 255, 0.35));
}

/* Mobil */

@media (max-width: 600px) {
  .service-icon-wrap {
    left: 16px;
    width: 58px;
    height: 58px;
  }
  .service-icon {
    width: 58px;
    height: 58px;
  }
}

/* Contact */

.contact-card {
  max-width: 860px;
  margin: 0 auto;
}

.contact-form {
  margin-top: 1.5rem;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

input,
textarea {
  background: #070f2c;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  padding: 0.75rem 0.9rem;
  color: var(--text);
  font: inherit;
}

input:focus,
textarea:focus {
  outline: 2px solid var(--primary);
  outline-offset: 1px;
}

.help-text {
  color: var(--muted);
  font-size: 0.85rem;
  margin-top: 0.8rem;
}

/* FAQ */

.section-faq {
  position: relative;
  overflow: hidden;
}

.faq-inner {
  position: relative;
  z-index: 1;
  max-width: 960px;
  margin: 0 auto;
  text-align: center;
}

.section-faq::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, #101a3e 0, #050b2b 55%, #020317 100%);
  transform: translateY(0%);
  transition: transform 0.9s ease-in-out;
  z-index: 0;
}

.section-faq.faq-visible::before {
  transform: translateY(-100%);
}

.faq-list {
  max-width: 840px;
  margin: 2rem auto 0;
  text-align: left;
}

.faq-item {
  background: #050814;
  border-radius: 14px;
  padding: 1rem 1.4rem;
  border: 1px solid rgba(255, 255, 255, 0.06);
  margin-bottom: 0.75rem;
}

.faq-item summary {
  list-style: none;
  cursor: pointer;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.faq-item summary::-webkit-details-marker {
  display: none;
}

.faq-item summary::after {
  content: "+";
  font-weight: 700;
  font-size: 1rem;
  color: var(--muted);
  transition: transform 0.2s ease, color 0.2s ease;
}

.faq-item[open] summary::after {
  content: "–";
  transform: translateY(-1px);
  color: var(--primary);
}

.faq-item p {
  margin-top: 0.75rem;
  color: var(--muted);
  font-size: 0.9rem;
}

/* Admin blocks */
body.is-admin .fb-edit-block {
  position: relative;
}

.fb-block-edit-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  z-index: 40;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  height: 26px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.22);
  background: rgba(4, 17, 73, 0.95);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.45);
  color: #fff;
  font-size: 14px;
  cursor: pointer;
  opacity: 0;
  transform: translateY(-4px);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

body.is-admin .fb-edit-block:hover > .fb-block-edit-btn {
  opacity: 1;
  transform: translateY(0);
}

body.is-admin .fb-block-edit-btn:hover {
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
}

.fb-edit-block.fb-editing-richtext {
  outline: 2px solid rgba(0, 166, 255, 0.4);
  outline-offset: 3px;
}

.fb-btn-small {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 0.4rem 0.9rem;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.16);
  background: rgba(255, 255, 255, 0.05);
  color: #fff;
  font-size: 0.92rem;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

.fb-btn-small:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
}

.fb-btn-small--primary {
  background: linear-gradient(120deg, #00a6ff, #4dd0ff);
  border: 1px solid rgba(0, 166, 255, 0.6);
  color: #0a1231;
}

.fb-btn-small--primary:hover {
  background: linear-gradient(120deg, #29b8ff, #6ee0ff);
}

/* Visual editor toggle & seksjonssortering */
.visual-editor-toggle {
  position: fixed;
  left: 1.25rem;
  bottom: 1.25rem;
  z-index: 998;
  background: rgba(0, 0, 0, 0.7);
  color: #ffffff;
  padding: 0.4rem 0.8rem;
  border-radius: 999px;
  font-size: 0.85rem;
  display: none;
  align-items: center;
  gap: 0.4rem;
  backdrop-filter: blur(4px);
}

body.is-admin .visual-editor-toggle {
  display: flex;
}

.visual-editor-toggle input[type="checkbox"] {
  accent-color: #ffcc00;
}

.section-sorter-modal[hidden] {
  display: none;
}

.section-sorter-modal {
  position: fixed;
  inset: 0;
  z-index: 1000;
}

.section-sorter-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
}

.section-sorter-dialog {
  position: relative;
  max-width: 480px;
  margin: 8vh auto 0;
  background: #18181b;
  color: #ffffff;
  border-radius: 1.25rem;
  padding: 1.25rem 1.5rem 1.1rem;
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
}

.section-sorter-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.6rem;
}

.section-sorter-header h3 {
  margin: 0;
  font-size: 1.1rem;
}

.section-sorter-close {
  border: none;
  background: transparent;
  color: #a1a1aa;
  font-size: 1rem;
  cursor: pointer;
}

.section-sorter-subtitle {
  font-size: 0.85rem;
  opacity: 0.85;
  margin-bottom: 0.8rem;
}

.section-sorter-list {
  list-style: none;
  margin: 0;
  padding: 0;
  max-height: 260px;
  overflow-y: auto;
}

.section-sorter-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.55rem 0.75rem;
  margin-bottom: 0.3rem;
  border-radius: 0.8rem;
  background: #27272f;
  cursor: grab;
}

.section-sorter-item:active {
  cursor: grabbing;
}

.section-sorter-item-handle {
  font-size: 1.1rem;
  opacity: 0.7;
}

.section-sorter-item-label {
  flex: 1;
  font-size: 0.9rem;
}

.section-sorter-footer {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  margin-top: 0.9rem;
}

.section-sorter-dialog .btn.btn-primary {
  padding: 0.45rem 1.1rem;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: #facc15;
  color: #1e1e22;
  font-weight: 600;
}

.section-sorter-dialog .btn.btn-secondary {
  padding: 0.45rem 1.1rem;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: #3f3f46;
  color: #e4e4e7;
  font-weight: 500;
}

.section-sorter-dialog .btn.btn-primary:hover {
  background: #fde047;
}

.section-sorter-dialog .btn.btn-secondary:hover {
  background: #52525b;
}

/* Footer */

  .site-footer {
    background: #020318;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding: 2rem 0 1.75rem;
    font-size: 0.9rem;
  }

  .footer-main {
    display: flex;
    justify-content: center;
  }

  .footer-menu {
    width: 100%;
    max-width: 640px;
    margin: 0 auto;
  }

  .footer-links {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem 2rem;
  }

  .footer-links a {
    color: var(--muted);
  }

  .footer-links a:hover {
    color: var(--primary);
  }

  .footer-bottom {
    margin-top: 1.8rem;
    padding-top: 1.2rem;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
    color: var(--muted);
    font-size: 0.8rem;
  }

  .footer-bottom-link {
    color: var(--text);
    font-weight: 600;
  }

  .footer-bottom-link:hover {
    color: var(--primary);
  }

  /* Mobil */

  @media (max-width: 700px) {
    .footer-bottom {
      flex-direction: column;
      align-items: flex-start;
    }
  }

  @media (min-width: 900px) {
    .footer-menu {
      max-width: 760px;
    }

    .footer-links {
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1rem 3rem;
    }
  }

/* Responsive */

@media (max-width: 900px) {
  .hero-grid,
  .about-grid,
  .two-column,
  .feedback-grid {
    grid-template-columns: 1fr;
  }

  .hero {
    padding-top: 4rem;
  }

  .nav-links {
    display: none;
  }

}

  </style>
</head>
<body>
  <header class="top-nav">
    <div class="container nav-inner">
      <div class="logo">
        <img src="https://setaei.com/Fjolsen/Liggende-M%E2%94%9C%E2%95%95rk.png" alt="FjOlsenbanden logo" />
      </div>
      <nav class="nav-links">
        <a href="#kalender">Julekalender</a>
        <a href="#about">Om</a>
        <a href="#video">FjOlsen</a>
        <a href="#membership">Medlemskap</a>
        <a href="#community">Community</a>
        <a href="#services">Andre tilbud</a>
        <a href="#contact">Kontakt</a>
        <a href="#faq">FAQ</a>
      </nav>
      <a href="#membership" class="btn btn-primary small">Bli medlem</a>
    </div>
  </header>

  <main id="page-sections" data-sections-container>
  <section id="hero" class="section hero" data-sortable-section="hero" data-section-label="Hero">
    <div class="container hero-grid">
      <div class="hero-text">
        <div class="fb-edit-block" data-block-id="hero-copy" data-edit-type="richtext">
          <span class="pill">Velkommen</span>
          <h1>
            FjOlsenbanden er<br />
            <span class="highlight">Norges mest inkluderende gaming-community.</span>
          </h1>
          <p class="lead">
            En trygg arena for familier som elsker gaming, med fellesskap, premier og kreativitet i sentrum.
          </p>
        </div>
      <div class="hero-actions">
        <a href="#membership" class="btn btn-primary">Bli medlem</a>
        <a href="#about" class="btn btn-ghost">Les mer</a>
      </div>
    </div>
      <div class="hero-card screen-effects">
        <span class="particle"></span>
        <span class="particle"></span>
        <span class="particle"></span>

        <img src="img/fjolsen-card.svg" alt="FjOlsen illustrasjon" />
      </div>
    </div>
  </section>

  <section
    id="kalender"
    class="section section-calendar"
    data-sortable-section="kalender"
    data-section-label="Julekalender"
  >
    <div class="calendar-snow-layer" aria-hidden="true"></div>
    <div class="container calendar-inner">
      <div>
        <p class="pill">Desember 2024</p>
        <h2 class="calendar-title">Julekalender for hele banden</h2>
        <p class="calendar-text">
          Tell ned til årets hyggeligste gaming-kalender! Hver dag fra 1.–24. desember deler vi ut premier,
          utfordringer og små overraskelser til alle medlemmer.
        </p>

        <div class="calendar-countdown" data-target="2024-12-01T00:00:00+01:00">
          <div class="time-box">
            <span class="number" data-unit="days">00</span>
            <span class="label">Dager</span>
          </div>
          <div class="time-box">
            <span class="number" data-unit="hours">00</span>
            <span class="label">Timer</span>
          </div>
          <div class="time-box">
            <span class="number" data-unit="minutes">00</span>
            <span class="label">Min</span>
          </div>
          <div class="time-box">
            <span class="number" data-unit="seconds">00</span>
            <span class="label">Sek</span>
          </div>
        </div>

        <div class="calendar-btn">
          <a class="btn btn-primary" href="#membership">Bli medlem før luke 1</a>
        </div>
        <p class="calendar-note">Påmelding er gratis – premiene sendes ut til registrerte familiemedlemmer.</p>
      </div>
      <div class="calendar-image">
        <img src="https://fjolsenbanden.setaei.com/assets/updates/calendar-preview.png" alt="Illustrasjon av FjOlsenbandens julekalender" />
      </div>
    </div>
  </section>

  <section id="about" class="section" data-sortable-section="about" data-section-label="Om FjOlsenbanden">
    <div class="container">
      <div class="fb-edit-block" data-block-id="about-intro" data-edit-type="richtext">
        <h2>Hva er <span class="highlight">FjOlsenbanden?</span></h2>
        <p class="subtitle">
          Norges mest inkluderende gaming-community for hele familien.
        </p>
      </div>

      <div class="about-grid">
        <div class="card card-large">
          <div class="fb-edit-block" data-block-id="about-body" data-edit-type="richtext">
            <h3>Målet med FjOlsenbanden</h3>
            <p>
              Målet med FjOlsenbanden er å skape et trygt, positivt og inkluderende gamingmiljø der barn, ungdom –
              og mange foreldre – kan oppleve ekte mestring, samarbeid og fellesskap.
            </p>
            <p>
              Hver uke legger FjOlsenFN ned utallige timer på å arrangere morsomme konkurranser og aktiviteter som
              skaper engasjement og samhold i hele communityet.
            </p>
            <p>
              Premiene som deles ut er sponset av samarbeidspartnere fra næringslivet, eller finansiert gjennom
              frivillige bidrag fra foreldre – alt for å gi barna ekstra motivasjon og glede.
            </p>
            <p>
              Alle som blir med i FjOlsenbanden får tittelen «FjOls» – hvor man blir en ambassadør som fremmer et
              positivt fellesskap, trygghet og stolthet.
            </p>
          </div>
          <a href="#membership" class="btn btn-primary">Bli medlem</a>
        </div>

        <div class="about-benefits fb-edit-block" data-block-id="about-benefits" data-edit-type="richtext">
          <div class="card card-pill">
            <h4>Trygg gamingarena</h4>
            <p>
              Alle aktiviteter overvåkes av voksne, med klare regler mot mobbing, banning og ekskludering.
            </p>
          </div>

          <div class="card card-pill">
            <h4>Positivt fellesskap</h4>
            <p>
              Vi har fokus på å lære barn og unge god nettadferd, samarbeid og kommunikasjon.
            </p>
          </div>

          <div class="card card-pill">
            <h4>Familievennlig stream</h4>
            <p>
              Alt innhold er bannfritt og passer for både barn og voksne å se sammen.
            </p>
          </div>
        </div>
      </div>
    </div>

  </section>

  <section id="video" class="section" data-sortable-section="video" data-section-label="Video">
    <div class="container">
      <div class="fb-edit-block" data-block-id="video-intro" data-edit-type="richtext">
        <h2>Hvem er <span class="highlight">FjOlsen?</span></h2>
        <p class="subtitle">
          FjOlsenFN – familievennlig streamer og grunnlegger av FjOlsenbanden.
        </p>
      </div>

      <div class="two-column">
        <div class="card video-wrapper fb-edit-block" data-block-id="video-embed" data-edit-type="youtube">
          <iframe
            src="https://www.youtube.com/embed/8EgRIkmvmtM"
            title="Slik deltar du på FjOlsenbanden customs"
            frameborder="0"
            allowfullscreen
          ></iframe>
        </div>
        <div class="card fb-edit-block" data-block-id="video-copy" data-edit-type="richtext">
          <h3>FjOlsenFN – Familievennlig streamer</h3>
          <p>
            FjOlsenbanden ledes av Tor Martin «FjOlsenFN» Olsen. FjOlsen er en familievennlig streamer som ikke
            tillater banning, mobbing og brudd på nettvettsreglene.
          </p>
          <p>
            Han startet prosjektet for å gi sine egne onkelbarn et trygt og bannefritt sted å spille. Det som
            begynte som et tiltak for å beskytte onkelbarna, har vokst til å omfatte alle barn som ønsker å være
            en del av FjOlsenbanden – hvor gjensidig trygghet, respekt og fellesskap står i fokus.
          </p>
          <p>
            For han vet at så lenge hans egne onkelbarn spiller under trygge rammer, betyr det at også dine barn
            gjør det samme.
          </p>
        </div>
      </div>
    </div>

  </section>


  <section id="feedback" class="section" data-sortable-section="feedback" data-section-label="Tilbakemeldinger">
    <div class="container">
      <div class="fb-edit-block" data-block-id="feedback-intro" data-edit-type="richtext">
        <h2>Tilbakemeldinger fra <span class="highlight">FjOlsenbanden</span></h2>
        <p class="subtitle">
          Takk til alle som sender flotte tilbakemeldinger til oss i FjOlsenbanden!
        </p>
      </div>

      <div class="feedback-grid fb-edit-block" data-block-id="feedback-quotes" data-edit-type="richtext">
        <div class="card">
          <p>
            «Tusen takk for at jeg har fått muligheten til å spille hos FJOlsenbanden.
            Kan ikke takke nok for alt du har gjort for meg og alle andre. Tusen takk! ♥️
            Tror ikke du vet hvor mye jeg setter pris på dette. Du har vært hele grunnen
            til at jeg har blitt enda nærmere noen i real life venner. Tusen tusen takk for
            det ♥️»
          </p>
          <p class="feedback-name">Filip, medlem</p>
        </div>

        <div class="card">
          <p>
            «Du fortjener det mann! Du er så super streamer og den personen som
            setter et smil på alle som kommer inn. Jeg som er syk ble glad med
            engang jeg kom inn.»
          </p>
          <p class="feedback-name">Borkærn, medlem</p>
        </div>

        <div class="card">
          <p>
            «Tusen takk for alt du gjør for barn og ungdom som digger Fortnite – og for at du
            holder strenge og trygge rammer. Du skaper stor underholdningsverdi også for
            oss som ikke skjønner så mye av gamingverden! Du klarte å få barnet vårt til å
            glede seg til bursdagen sin og å skape et skikkelig lyspunkt i en ellers ganske
            tøff tilværelse. For det er vi foreldre (og storesøster) evig takknemlig.»
          </p>
          <p class="feedback-name">Pernille &amp; Terje, foreldre</p>
        </div>

        <div class="card">
          <p>
            «Du har så mye peil på how to, overflow barn! Veldig fint og observere
            hvordan iallfall KJ tjener på FJOlsen-events!! Og jeg kjenner en del som
            hadde hatt fullt utbytte av et pedagogisk opplegg i din regi! Respect.»
          </p>
          <p class="feedback-name feedback-name-accent">Merethe, mamma</p>
        </div>
      </div>

      <div class="center">
        <a href="#membership" class="btn btn-primary">Bli med i communityet</a>
      </div>
    </div>
  </section>

  <section id="membership" class="section" data-sortable-section="membership" data-section-label="Medlemskap">
    <div class="container">
      <div class="fb-edit-block" data-block-id="membership-intro" data-edit-type="richtext">
        <h2>Bli <span class="highlight">medlem</span> i dag.</h2>
        <p class="subtitle">
          Det er helt gratis å bli medlem i FjOlsenbanden.<br />
          Ved å bli medlem kan du vinne premier og delta i giveaways.
        </p>
      </div>

      <div class="center">
        <div class="card membership-card fb-edit-block" data-block-id="membership-card" data-edit-type="richtext">
          <span class="badge">Gratis</span>
          <p class="price">0 kr/mnd</p>

          <ul class="checklist membership-features">
            <li>Få medlemsrolle i Discord</li>
            <li>Vinne premier i customs &amp; giveaways</li>
            <li>Prioritet i kø til konkurranser foran ikke-medlemmer</li>
          </ul>

          <div class="membership-buttons">
            <a href="https://forms.gle/sq4mUf7s6e6UY7R58" class="btn btn-primary">Under 18 år</a>
            <a href="https://forms.gle/ZrbXCggnUY8FTT7t9" class="btn btn-secondary">Over 18 år</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="community" class="section" data-sortable-section="community" data-section-label="Community">
    <div class="container">
      <h2>FjOlsenbanden – et community i <span class="highlight">vekst!</span></h2>
      <p class="subtitle">
        Følg FjOlsenbanden på tvers av våre kanaler for å få med deg alle nyheter! Det kan være unike events på de
        forskjellige kanalene!
      </p>

      <div class="social-grid">
        <a class="card social-card" data-social="twitch" href="https://www.twitch.tv/FjOlsenFN" target="_blank">
          <div class="social-icon">
            <img src="img/social/twitch.svg" alt="Twitch" />
          </div>
          <p class="social-number">4.5k</p>
          <span class="social-label">Twitch</span>
        </a>
        <a class="card social-card" data-social="tiktok" href="https://www.tiktok.com/@fjolsenbanden" target="_blank">
          <div class="social-icon">
            <img src="img/social/tiktok.svg" alt="TikTok" />
          </div>
          <p class="social-number">7.0k</p>
          <span class="social-label">TikTok</span>
        </a>
        <a class="card social-card" data-social="discord" href="https://discord.gg/fjolsenbanden" target="_blank">
          <div class="social-icon">
            <img src="img/social/discord.svg" alt="Discord" />
          </div>
          <p class="social-number">3.5k</p>
          <span class="social-label">Discord</span>
        </a>
        <a class="card social-card" data-social="youtube" href="https://youtube.com/@fjolsenbanden" target="_blank">
          <div class="social-icon">
            <img src="img/social/youtube.svg" alt="YouTube" />
          </div>
          <p class="social-number">150+</p>
          <span class="social-label">YouTube</span>
        </a>
        <a class="card social-card" data-social="instagram" href="https://www.instagram.com/fjolsenbanden" target="_blank">
          <div class="social-icon">
            <img src="img/social/instagram.svg" alt="Instagram" />
          </div>
          <p class="social-number">4.1k</p>
          <span class="social-label">Instagram</span>
        </a>
      </div>
    </div>
  </section>

  <section id="partners" class="section" data-sortable-section="partners" data-section-label="Partnere">
    <div class="container">
      <div class="partners-header fb-edit-block" data-block-id="partners-intro" data-edit-type="richtext">
        <h2 class="partners-title">
          Våre<br class="partners-title-break" />
          <span class="highlight">samarbeidspartnere</span>
        </h2>
        <p class="subtitle partners-subtitle">
          Her er noen av våre samarbeidspartnere som har bidratt til<br class="partners-subtitle-break" />
          å skape minneverdige øyeblikk i FjOlsenbanden!
        </p>
      </div>

      <div class="partners-grid">
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-lenovo.png" alt="Lenovo" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-komplett.png" alt="Komplett" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-samsung.png" alt="Samsung" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-kristiania.png" alt="Kristiania" />
        </div>

        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-philips.png" alt="Philips" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-saily.png" alt="Saily" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/P-nki.svg" alt="NKI" />
        </div>
        <div class="card partner">
          <img src="https://setaei.com/Fjolsen/partnere/p-trondheimplay.png" alt="Trondheim Play" />
        </div>
      </div>

      <div class="partners-cta fb-edit-block" data-block-id="partners-cta" data-edit-type="richtext">
        <p>Ønsker du å synliggjøre din merkevare for vårt engasjerte gaming publikum?</p>
        <a class="btn btn-primary" href="#contact">Kontakt oss</a>
      </div>
    </div>
  </section>

<section id="services" class="section" data-sortable-section="services" data-section-label="Andre tilbud">
  <div class="container">
    <div class="fb-edit-block" data-block-id="services-intro" data-edit-type="richtext">
      <h2>Andre tilbud</h2>
      <p class="subtitle">FjOlsenbanden tilbyr mer enn bare streaming!</p>
    </div>

    <div class="services-grid fb-edit-block" data-block-id="services-list" data-edit-type="richtext">

      <!-- Foredrag -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Sjokk.png" class="service-icon" alt="Foredrag ikon" />
        </div>
          <h3 class="service-title">FORE­DRAG</h3>
          <p class="service-description">
            FjOlsen besøker skoler, idrettslag og e-sportklubber for å snakke om streaming, gaming-kultur og nettvett.
          </p>
      </div>

      <!-- Events -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Glad%20tunge.png" class="service-icon" alt="Events ikon" />
        </div>
          <h3 class="service-title">EVENTS</h3>
          <p class="service-description">
            Vi arrangerer gaming-konkurranser for bedrifter, skoler og klubber – både digitalt og fysisk.
          </p>
      </div>

      <!-- Unboxing -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Love.png" class="service-icon" alt="Unboxing ikon" />
        </div>
          <h3 class="service-title">UNBOXING</h3>
          <p class="service-description">
            FjOlsen lager profesjonelle unboxing-videoer av dine produkter som kan brukes i deres markedsføring og deles med vårt community.
          </p>
      </div>

      <!-- Streamer for hire -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Glad%20tenner.png" class="service-icon" alt="Streamer ikon" />
        </div>
          <h3 class="service-title">STREAMER FOR HIRE</h3>
          <p class="service-description">
            Ønsker du at FjOlsen skal streame på vegne av din merkevare? Han er tilgjengelig for co-streams, produktlanseringer og kampanjer – der ditt budskap blir formidlet på en autentisk og engasjerende måte til tusenvis av følgere.
          </p>
      </div>

      <!-- Brand Collabs -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Penger.png" class="service-icon" alt="Brand collabs ikon" />
        </div>
          <h3 class="service-title">BRAND COLLABS</h3>
          <p class="service-description">
            FjOlsen samarbeider med merkevarer som ønsker trygg og familievennlig synlighet i gamingmiljøet vårt – gjennom sponsorinnhold, produktlanseringer og kampanjer tilpasset barn og foreldre.
          </p>
      </div>

      <!-- Digital kampanjeproduksjon -->
      <div class="card service">
        <div class="service-icon-wrap">
          <div class="service-icon-bg"></div>
          <img src="https://setaei.com/Fjolsen/Sjokk.png" class="service-icon" alt="Digital kampanje ikon" />
        </div>
          <h3 class="service-title">DIGITAL KAMPANJEPRODUKSJON</h3>
          <p class="service-description">
            Produksjon av gaming- og SoMe-innhold for merkevarer som vil nå et ungt publikum – som short-form videoer, highlight-klipp og kampanjeinnhold skreddersydd til deres kanaler.
          </p>
      </div>

    </div>
  </div>
</section>

  <section id="contact" class="section" data-sortable-section="contact" data-section-label="Kontakt">
    <div class="container">
      <div class="card contact-card">
        <div class="fb-edit-block" data-block-id="contact-intro" data-edit-type="richtext">
          <h2>Kontakt oss</h2>
          <p class="subtitle">
            Har du spørsmål om medlemskap, samarbeid eller events? Send oss en melding så kommer vi tilbake til deg.
          </p>
        </div>
        <form action="#" method="POST" class="contact-form">
      <div class="form-row">
        <div class="form-group">
          <label for="name">Navn</label>
          <input type="text" id="name" name="name" required />
        </div>
        <div class="form-group">
          <label for="email">E-post</label>
          <input type="email" id="email" name="email" required />
        </div>
      </div>

      <div class="form-group">
        <label for="message">Melding</label>
        <textarea id="message" name="message" rows="5" required></textarea>
      </div>

      <p class="help-text">Vi svarer så snart vi kan, som regel innen 1–2 virkedager.</p>

      <button type="submit" class="btn btn-primary">Send melding</button>
    </form>
  </div>
</div>

  </section>

  <section id="faq" class="section section-faq" data-sortable-section="faq" data-section-label="FAQ">
    <div class="container faq-inner">
      <div class="fb-edit-block" data-block-id="faq-intro" data-edit-type="richtext">
        <h2>Ofte stilte spørsmål</h2>
        <p class="subtitle">
          Her finner du svar på de vanligste spørsmålene om FjOlsenbanden.
        </p>
      </div>

      <div class="faq-list">
        <details class="faq-item fb-edit-block" data-block-id="faq-1" data-edit-type="faq" open>
          <summary>Hva koster det å bli medlem?</summary>
          <p>Det er gratis å være med i FjOlsenbanden, men noen turneringer kan ha egen premie-pott.</p>
        </details>

        <details class="faq-item fb-edit-block" data-block-id="faq-2" data-edit-type="faq">
          <summary>Hvilken aldersgrense har dere?</summary>
          <p>Vi er tilpasset barn og unge, men foresatte må godkjenne deltakelse.</p>
        </details>

        <details class="faq-item fb-edit-block" data-block-id="faq-3" data-edit-type="faq">
          <summary>Hvordan blir jeg medlem?</summary>
          <p>
            Bla opp til seksjonen «Bli medlem» eller klikk på knappen i menyen. Der finner du lenker for både under
            og over 18 år.
          </p>
        </details>

        <details class="faq-item fb-edit-block" data-block-id="faq-4" data-edit-type="faq">
          <summary>Hva er FjOlsenbanden?</summary>
          <p>
            FjOlsenbanden er et familievennlig gaming-community der barn, ungdom og foreldre kan delta på trygge og
            inkluderende aktiviteter og events.
          </p>
        </details>

        <details class="faq-item fb-edit-block" data-block-id="faq-5" data-edit-type="faq">
          <summary>Hvordan sikrer dere trygg gaming?</summary>
          <p>
            Vi har tydelige regler mot mobbing, banning og ekskludering, og alle aktiviteter overvåkes av voksne.
          </p>
        </details>
      </div>

      <button
        id="add-faq-question-btn"
        data-visual-only
        class="hidden mt-6 inline-flex items-center justify-center px-6 py-3 rounded-full bg-[#04B2FF] text-sm font-semibold text-slate-900 shadow-lg shadow-cyan-500/30 hover:-translate-y-0.5 hover:shadow-cyan-400/50 transition"
      >
        + Legg til spørsmål
      </button>
    </div>
  </section>
  </main>
  <!-- Visual editor toggle (vises kun for innloggede brukere) -->
  <div id="visual-editor-toggle" class="visual-editor-toggle">
    <label>
      <input type="checkbox" id="visual-editor-checkbox" />
      Visual editor
    </label>
  </div>

  <!-- Modal for seksjonssortering -->
  <div id="section-sorter-modal" class="section-sorter-modal" hidden>
    <div class="section-sorter-backdrop" data-modal-close></div>
    <div class="section-sorter-dialog">
      <header class="section-sorter-header">
        <h3>Sorter seksjoner</h3>
        <button class="section-sorter-close" type="button" data-modal-close>
          ✕
        </button>
      </header>

      <p class="section-sorter-subtitle">
        Dra og slipp for å endre rekkefølge på seksjonene.
      </p>

      <ul id="section-sorter-list" class="section-sorter-list">
        <!-- fylles automatisk av JavaScript -->
      </ul>

      <footer class="section-sorter-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-modal-close
        >
          Avbryt
        </button>
        <button
          type="button"
          class="btn btn-primary"
          id="section-sorter-save"
        >
          Lagre rekkefølge
        </button>
      </footer>
    </div>
  </div>
  <footer class="site-footer">
    <div class="container footer-main">
      <nav class="footer-menu">
        <ul class="footer-links">
          <li><a href="#about">Om FjOlsenbanden</a></li>
          <li><a href="#video">Se FjOlsen</a></li>
          <li><a href="#membership">Medlemskap</a></li>
          <li><a href="#community">Community</a></li>
          <li><a href="#services">Andre tilbud</a></li>
          <li><a href="#contact">Kontakt oss</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="personvernerklaering.html">Personvernerklæring</a></li>
          <li><a href="#hero">Til toppen</a></li>
        </ul>
      </nav>
    </div>

    <div class="container footer-bottom">
      <p>© 2025 Fjolsenbanden v/Fair Share Invest AS – Org.nr. 926 963 023</p>
      <a href="https://fjolsenbanden.setaei.com/regler.html" class="footer-bottom-link">Les reglene våre</a>
    </div>
  </footer>
<script>
  (function () {
    if (!document.body.classList.contains('is-admin')) return;

    const toggleCheckbox = document.getElementById('visual-editor-checkbox');
    const modal = document.getElementById('section-sorter-modal');
    const listEl = document.getElementById('section-sorter-list');
    const saveBtn = document.getElementById('section-sorter-save');
    const sectionContainer = document.querySelector('[data-sections-container]');
    const closers = modal?.querySelectorAll('[data-modal-close]') || [];

    if (!toggleCheckbox || !modal || !listEl || !saveBtn || !sectionContainer) {
      return;
    }

    function getSections() {
      return Array.from(sectionContainer.querySelectorAll('[data-sortable-section]'));
    }

    function buildList() {
      listEl.innerHTML = '';
      getSections().forEach((section) => {
        const id = section.getAttribute('data-sortable-section');
        const label = section.getAttribute('data-section-label') || id || 'Seksjon';

        const li = document.createElement('li');
        li.className = 'section-sorter-item';
        li.draggable = true;
        li.dataset.sectionId = id;

        li.innerHTML = `
          <span class="section-sorter-item-handle">☰</span>
          <span class="section-sorter-item-label">${label}</span>
        `;

        listEl.appendChild(li);
      });
    }

    function openModal() {
      buildList();
      modal.hidden = false;
    }

    function closeModal() {
      modal.hidden = true;
    }

    toggleCheckbox.addEventListener('change', (e) => {
      const checked = e.target.checked;
      document.documentElement.classList.toggle('visual-editor-active', checked);
      if (checked) {
        openModal();
      } else {
        closeModal();
      }
    });

    closers.forEach((btn) =>
      btn.addEventListener('click', () => {
        closeModal();
        toggleCheckbox.checked = false;
        document.documentElement.classList.remove('visual-editor-active');
      })
    );

    let draggedItem = null;

    listEl.addEventListener('dragstart', (e) => {
      const li = e.target.closest('.section-sorter-item');
      if (!li) return;
      draggedItem = li;
      e.dataTransfer.effectAllowed = 'move';
    });

    listEl.addEventListener('dragover', (e) => {
      e.preventDefault();
      const li = e.target.closest('.section-sorter-item');
      if (!li || li === draggedItem) return;

      const rect = li.getBoundingClientRect();
      const before = e.clientY < rect.top + rect.height / 2;
      if (before) {
        listEl.insertBefore(draggedItem, li);
      } else {
        listEl.insertBefore(draggedItem, li.nextSibling);
      }
    });

    listEl.addEventListener('dragend', () => {
      draggedItem = null;
    });

    saveBtn.addEventListener('click', () => {
      const orderedIds = Array.from(listEl.querySelectorAll('.section-sorter-item')).map(
        (li) => li.dataset.sectionId
      );

      orderedIds.forEach((id) => {
        const section = sectionContainer.querySelector(`[data-sortable-section="${id}"]`);
        if (section) {
          sectionContainer.appendChild(section);
        }
      });

      closeModal();
      toggleCheckbox.checked = false;
      document.documentElement.classList.remove('visual-editor-active');
    });
  })();
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const faqSection = document.getElementById('faq');

    if (faqSection) {
      // Gardin-effekt: når FAQ blir synlig, dras "gardinen" opp
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              faqSection.classList.add('faq-visible');
              observer.disconnect(); // bare trigge én gang
            }
          });
        },
        { threshold: 0.4 }
      );

      observer.observe(faqSection);

      // Bare ett FAQ-punkt åpent om gangen
      const details = faqSection.querySelectorAll('details.faq-item');
      details.forEach((el) => {
        el.addEventListener('toggle', () => {
          if (el.open) {
            details.forEach((other) => {
              if (other !== el) other.open = false;
            });
          }
        });
      }
    });
  });

  const faqSection = document.querySelector('.section-faq');
  if (faqSection) {
    const activateFaq = () => faqSection.classList.add('faq-visible');

    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              activateFaq();
              obs.disconnect();
            }
          });
        },
        { threshold: 0.35 }
      );

      observer.observe(faqSection);
    } else {
      activateFaq();
    }
  }

  // Les admin-konfig fra localStorage og bruk på forsiden
  (function () {
    let raw = localStorage.getItem('fjAdminConfig');
    if (!raw) return;

    let cfg;
    try {
      cfg = JSON.parse(raw);
    } catch (e) {
      console.warn('Kunne ikke parse fjAdminConfig:', e);
      return;
    }

    // Les admin-konfig fra localStorage og bruk på forsiden
    (function () {
      let raw = localStorage.getItem('fjAdminConfig');
      if (!raw) return;

      let cfg;
      try {
        cfg = JSON.parse(raw);
      } catch (e) {
        console.warn('Kunne ikke parse fjAdminConfig:', e);
        return;
      }

      // Seksjonsstyring (på/av + innhold)
      const sections = cfg.sections || {};
      Object.entries(sections).forEach(([id, settings]) => {
        const section = document.getElementById(id);
        if (!section) return;

        // Skru av/på seksjon
        if (settings.enabled === false) {
          section.style.display = 'none';
          return;
        }

        if (id === 'hero') {
          applyHeroSettings(section, settings);
          return;
        }

        // Oppdater tittel (første h2 i seksjonen)
        if (settings.title) {
          const h2 = section.querySelector('h2');
          if (h2) {
            h2.textContent = settings.title;
          }
        }

        // Oppdater undertekst / subtitle
        if (settings.subtitle) {
          const sub = section.querySelector('.subtitle');
          if (sub) {
            sub.textContent = settings.subtitle;
          }
        }
      });

      // Globale innstillinger
      const global = cfg.global || {};

      // Logo i header + footer
      if (global.logoUrl) {
        document.querySelectorAll('.logo img, .footer-logo').forEach((img) => {
          img.src = global.logoUrl;
        });
      }

      // YouTube-video
      if (global.youtubeUrl) {
        const iframe = document.querySelector('#video iframe');
        if (iframe) {
          iframe.src = normalizeYoutube(global.youtubeUrl);
        }
      }

      // Sosiale lenker
      if (global.socials) {
        const cards = document.querySelectorAll('.social-card');
        cards.forEach((card) => {
          const key = card.dataset.social;
          if (!key) return;
          const url = global.socials[key];
          if (url) {
            card.href = url;
          }
        });
      }

      function normalizeYoutube(url) {
        if (!url) return url;

        // embed-lenke allerede
        if (url.includes('/embed/')) return url;

        // youtu.be/ID
        const shortMatch = url.match(/youtu\.be\/([^?&]+)/);
        if (shortMatch) {
          return 'https://www.youtube.com/embed/' + shortMatch[1];
        }

        // watch?v=ID
        const longMatch = url.match(/[?&]v=([^&]+)/);
        if (longMatch) {
          return 'https://www.youtube.com/embed/' + longMatch[1];
        }

        return url;
      }

      function applyHeroSettings(section, settings) {
        const pill = section.querySelector('.pill');
        if (settings.pillText && pill) {
          pill.textContent = settings.pillText;
        }

        const lead = section.querySelector('.lead');
        if (settings.sectionText && lead) {
          lead.textContent = settings.sectionText;
        }

        const h1 = section.querySelector('h1');
        if (settings.title && h1) {
          h1.innerHTML = settings.title;
        }

        const heroImg = section.querySelector('.hero-card img');
        if (settings.heroImageUrl && heroImg) {
          heroImg.src = settings.heroImageUrl;
        }

        const caption = section.querySelector('.hero-card-caption');
        if (settings.heroImageCaption && caption) {
          caption.textContent = settings.heroImageCaption;
        }

        const buttons = section.querySelectorAll('.hero-actions a');
        const [btn1, btn2] = buttons;
        if (btn1) {
          if (settings.button1Label) btn1.textContent = settings.button1Label;
          if (settings.button1Href) btn1.href = settings.button1Href;
        }
        if (btn2) {
          if (settings.button2Label) btn2.textContent = settings.button2Label;
          if (settings.button2Href) btn2.href = settings.button2Href;
        }
      }
    })();
  });
</script>
<script>
(function () {
  if (!document.body.classList.contains('is-admin')) return;

  const blocks = Array.from(document.querySelectorAll('.fb-edit-block'));

  blocks.forEach(block => {
    const type = block.dataset.editType || 'richtext';
    const blockId = block.dataset.blockId || '';

    // Lag liten blyant-knapp
    const btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'fb-block-edit-btn';
    btn.innerHTML = '✏️'; // kan byttes til SVG senere
    btn.title = 'Rediger';
    block.prepend(btn);

    if (type === 'richtext') {
      setupRichtextBlock(block, blockId, btn);
    } else if (type === 'youtube') {
      setupYoutubeBlock(block, blockId, btn);
    }
  });

  /* ---- RICHTEXT ---- */
  function setupRichtextBlock(block, blockId, btn) {
    let originalHtml = '';
    let isEditing = false;

    btn.addEventListener('click', () => {
      if (isEditing) return;
      const contentEl = block; // hele blocken kan skrives i
      originalHtml = contentEl.innerHTML.replace(/<button[^>]*class="fb-block-edit-btn"[^>]*>.*?<\/button>/, '');
      isEditing = true;

      block.classList.add('fb-editing-richtext');
      contentEl.setAttribute('contenteditable', 'true');
      contentEl.focus();

      // Lag liten “hint” nederst: Enter = vanlig, Ctrl+S = lagre (kan bygges senere)
      // For nå bruker vi bare blur/save via confirm
      contentEl.addEventListener('keydown', onKeydown);

      function onKeydown(e) {
        if (e.key === 'Escape') {
          e.preventDefault();
          cancel();
        }
        if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's') {
          e.preventDefault();
          save();
        }
      }

      function cleanup() {
        contentEl.removeAttribute('contenteditable');
        block.classList.remove('fb-editing-richtext');
        contentEl.removeEventListener('keydown', onKeydown);
        isEditing = false;
      }

      function cancel() {
        contentEl.innerHTML = originalHtml;
        cleanup();
      }

      async function save() {
        const htmlToSave = contentEl.innerHTML.replace(/<button[^>]*class="fb-block-edit-btn"[^>]*>.*?<\/button>/, '');

        try {
          const res = await fetch('/api/admin/blocks/' + encodeURIComponent(blockId), {
            method: 'PUT',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': window.csrfToken || ''
            },
            body: JSON.stringify({ type: 'richtext', content: htmlToSave })
          });
          if (!res.ok) throw new Error('Feil ved lagring');
          cleanup();
          console.log('Blokk lagret:', blockId);
        } catch (err) {
          console.error(err);
          alert('Klarte ikke å lagre. Endringene er fortsatt i nettleseren.');
        }
      }

      // enkel dialog for nå: spør om lagring når man klikker på blyanten igjen
      btn.onclick = () => {
        if (!isEditing) return;
        const wantSave = confirm('Vil du lagre endringene?');
        if (wantSave) {
          save();
        } else {
          cancel();
        }
      };
    });
  }

  /* ---- YOUTUBE ---- */
  function setupYoutubeBlock(block, blockId, btn) {
    let editorEl = null;

    btn.addEventListener('click', () => {
      // hvis editor allerede er åpen → lukk
      if (editorEl) {
        editorEl.remove();
        editorEl = null;
        return;
      }

      const iframe = block.querySelector('iframe');
      const currentSrc = iframe ? iframe.src || '' : '';
      const currentUrl = currentSrc || '';

      editorEl = document.createElement('div');
      editorEl.className = 'fb-youtube-editor';
      editorEl.innerHTML = `
        <label for="yt-input-${blockId}">YouTube-lenke eller video-ID</label>
        <input id="yt-input-${blockId}"
               type="text"
               placeholder="f.eks. https://youtu.be/VIDEOID"
               value="${currentUrl}">
        <div class="fb-youtube-editor__actions">
          <button type="button" class="fb-btn-small fb-btn-small--ghost">Avbryt</button>
          <button type="button" class="fb-btn-small fb-btn-small--primary">Lagre</button>
        </div>
      `;
      block.appendChild(editorEl);

      const input = editorEl.querySelector('input');
      const cancelBtn = editorEl.querySelector('.fb-btn-small--ghost');
      const saveBtn = editorEl.querySelector('.fb-btn-small--primary');

      input.focus();
      input.select();

      cancelBtn.addEventListener('click', () => {
        editorEl.remove();
        editorEl = null;
      });

      saveBtn.addEventListener('click', async () => {
        const raw = input.value.trim();
        if (!raw) {
          alert('Skriv inn en YouTube-lenke eller ID');
          return;
        }

        const videoId = extractYoutubeId(raw);
        if (!videoId) {
          alert('Fant ikke en gyldig YouTube-ID i lenken.');
          return;
        }

        const newSrc = 'https://www.youtube.com/embed/' + videoId;

        if (iframe) {
          iframe.src = newSrc;
        }

        try {
          const res = await fetch('/api/admin/blocks/' + encodeURIComponent(blockId), {
            method: 'PUT',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': window.csrfToken || ''
            },
            body: JSON.stringify({ type: 'youtube', videoId, src: newSrc })
          });
          if (!res.ok) throw new Error('Feil ved lagring');
          console.log('YouTube-blokk lagret:', blockId, videoId);
          editorEl.remove();
          editorEl = null;
        } catch (err) {
          console.error(err);
          alert('Klarte ikke å lagre videolenken. Men videoen er oppdatert i nettleseren.');
        }
      });
    });
  }

  function extractYoutubeId(url) {
    // aksepter ren ID
    if (/^[a-zA-Z0-9_-]{11}$/.test(url)) return url;

    // typiske url-formater
    const regExp =
      /(?:youtube\.com\/(?:watch\?v=|embed\/|v\/|shorts\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
    const match = url.match(regExp);
    return match ? match[1] : null;
  }
})();
</script>
<script>
  (function () {
    const countdown = document.querySelector(".calendar-countdown");
    if (!countdown) return;

    const targetStr = countdown.getAttribute("data-target");
    const target = new Date(targetStr);

    const units = {
      days: countdown.querySelector('[data-unit="days"]'),
      hours: countdown.querySelector('[data-unit="hours"]'),
      minutes: countdown.querySelector('[data-unit="minutes"]'),
      seconds: countdown.querySelector('[data-unit="seconds"]')
    };

    function updateCountdown() {
      const now = new Date();
      let diff = target.getTime() - now.getTime();

      if (diff <= 0) {
        countdown.textContent = "Julekalenderen er i gang! 🎄";
        return;
      }

      const sec = Math.floor(diff / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const minutes = Math.floor((sec % 3600) / 60);
      const seconds = sec % 60;

      if (units.days) units.days.textContent = String(days).padStart(2, "0");
      if (units.hours)
        units.hours.textContent = String(hours).padStart(2, "0");
      if (units.minutes)
        units.minutes.textContent = String(minutes).padStart(2, "0");
      if (units.seconds)
        units.seconds.textContent = String(seconds).padStart(2, "0");
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  })();
</script>
</body>
</html>
