<!doctype html>

<html lang="nb">
<head>
  <meta charset="utf-8" />
  <title>FjOlsenbanden – Norges mest inkluderende gaming-community</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="FjOlsenbanden er Norges mest inkluderende gaming-community. En trygg arena for familier som elsker gaming."
  />
  <style>
    :root {
      --bg: #050b2b;
      --bg-alt: #071133;
      --card: #0d1636;
      --card-alt: #101a3e;
      --text: #ffffff;
      --muted: #a6b0d8;
      --primary: #00a6ff;
      --accent: #ff2da4;
      --radius-lg: 24px;
      --radius-md: 18px;
      --radius-pill: 999px;
      --shadow-soft: 0 24px 60px rgba(0, 0, 0, 0.6);
    }*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #020317;
  color: var(--text);
  scroll-behavior: smooth;
}

body {
  min-height: 100vh;
}

body {
  min-height: 100vh;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Layout */

.container {
  max-width: 1120px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

.section {
  padding: 5rem 0;
  background: radial-gradient(circle at center, #101a3e 0, #050b2b 55%, #020317 100%);
}

.section h2 {
  font-size: clamp(2rem, 3vw, 2.5rem);
  margin-bottom: 0.5rem;
  text-align: center;
}

.subtitle {
  color: var(--muted);
  max-width: 720px;
  margin: 0 auto 2.5rem;
  text-align: center;
}

/* Top nav */

.top-nav {
  position: sticky;
  top: 0;
  z-index: 999;
  background: rgba(5, 11, 43, 0.96);
  backdrop-filter: blur(18px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.75rem 1.5rem;
}

.logo img {
  height: 40px;
}

.nav-actions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.nav-links {
  display: flex;
  gap: 1.5rem;
  font-size: 0.9rem;
}

.nav-links a {
  color: var(--muted);
}

.nav-links a:hover {
  color: var(--primary);
}

/* Buttons */

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.85rem 1.7rem;
  border-radius: var(--radius-pill);
  border: none;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95rem;
  transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

.btn.small {
  padding: 0.5rem 1.2rem;
  font-size: 0.85rem;
}

.btn-primary {
  background: var(--primary);
  color: #fff;
  box-shadow: 0 0 18px rgba(0, 166, 255, 0.45);
}

.btn-primary:hover {
  filter: brightness(1.05);
  transform: translateY(-1px);
}

.btn-secondary {
  background: var(--accent);
  color: #fff;
  box-shadow: 0 0 18px rgba(255, 45, 164, 0.45);
}

.btn-ghost {
  background: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
}

/* Generic cards */

.card {
  background: radial-gradient(circle at top left, var(--card-alt), var(--card));
  border-radius: var(--radius-lg);
  padding: 1.6rem 1.8rem;
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255, 255, 255, 0.04);
}

/* Hero */

.hero {
  padding-top: 6rem;
}

.hero-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 3rem;
  align-items: center;
}

.hero-text h1 {
  font-size: clamp(2.4rem, 3.5vw, 3rem);
  margin-bottom: 1rem;
}

.hero-text .lead {
  color: var(--muted);
  max-width: 32rem;
}

.pill {
  display: inline-flex;
  align-items: center;
  padding: 0.3rem 1rem;
  border-radius: var(--radius-pill);
  background: rgba(10, 20, 80, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 0.8rem;
  color: var(--muted);
  margin-bottom: 1rem;
}

.highlight {
  color: var(--primary);
}

.hero-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

.hero-card {
  position: relative;
  background: radial-gradient(circle at top left, #25105a, #0d1636);
  border-radius: 28px;
  padding: 1.5rem;
  box-shadow: var(--shadow-soft);
  text-align: center;
  overflow: hidden;
}

.hero-card img {
  width: 100%;
  border-radius: 22px;
  display: block;
}

.screen-effects::before {
  content: "";
  position: absolute;
  inset: 12% 8% auto;
  height: 40%;
  background: radial-gradient(circle, rgba(255, 92, 185, 0.28), transparent 60%);
  filter: blur(18px);
  transform: translateY(-10%);
}

.screen-effects .particle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  box-shadow: 0 0 18px rgba(255, 255, 255, 0.5);
  animation: float 6s ease-in-out infinite;
}

.screen-effects .particle:nth-child(1) {
  top: 18%;
  right: 22%;
  animation-delay: 0.5s;
}

.screen-effects .particle:nth-child(2) {
  bottom: 12%;
  left: 18%;
  animation-delay: 1.2s;
}

.screen-effects .particle:nth-child(3) {
  top: 8%;
  left: 10%;
  animation-delay: 2s;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-10px) scale(1.1);
  }
}

.hero-card-caption {
  margin-top: 0.75rem;
  font-size: 0.85rem;
  color: var(--muted);
}

/* About */

.about-grid {
  display: grid;
  grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
  gap: 2rem;
}

.card-large {
  border-radius: 28px;
}

.about-benefits {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.card-pill {
  border-radius: var(--radius-md);
}

.card-pill h4 {
  margin-top: 0;
}

/* Two column */

.two-column {
  display: grid;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
  gap: 2rem;
}

.video-wrapper {
  padding: 0;
  overflow: hidden;
}

.video-wrapper iframe {
  border-radius: 24px;
  width: 100%;
  height: 100%;
  min-height: 260px;
}

    /* Feedback */

.feedback-title {
  text-align: center;
  font-size: clamp(2.4rem, 3.5vw, 3rem);
}

.feedback-intro {
  text-align: center;
}

.feedback-shell {
  margin-top: 2.5rem;
  background: #040c2b;
  border-radius: 40px;
  padding: 2.5rem 2.5rem 2rem;
  box-shadow: var(--shadow-soft);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.feedback-tag {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem 1.4rem;
  border-radius: var(--radius-pill);
  background: rgba(10, 20, 80, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.1);
  font-size: 0.8rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--muted);
  margin: 0 auto 2rem;
}

.feedback-tag span + span {
  margin-left: 0.4rem;
}

.feedback-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.5rem;
}

.feedback-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 210px;
  background: radial-gradient(circle at top left, #192554, #0b1433);
  border-radius: 26px;
  padding: 1.6rem 1.8rem;
  border: 1px solid rgba(255, 255, 255, 0.08);
  position: relative;
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.feedback-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 20%, rgba(0, 166, 255, 0.08), transparent 40%),
    radial-gradient(circle at 80% 0%, rgba(255, 45, 164, 0.08), transparent 40%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.feedback-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.55), 0 0 24px rgba(0, 166, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.16);
}

.feedback-card:hover::after {
  opacity: 1;
}

.feedback-card p {
  margin: 0;
}

.feedback-name {
  margin-top: 1.2rem;
  font-weight: 600;
  color: var(--primary);
  text-align: right;
}

.feedback-name--orange {
  color: #ffb566;
}

.feedback-name--blue {
  color: #4cb4ff;
}

.feedback-name--teal {
  color: #3ad1b0;
}

.feedback-name--pink {
  color: #ff6aa8;
}

.feedback-name-accent {
  color: var(--accent);
}

.feedback-cta {
  margin-top: 3rem;
}

.center {
  text-align: center;
  margin-top: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

/* Membership */

.membership-card {
  max-width: 380px;
}

.badge {
  display: inline-block;
  padding: 0.25rem 0.9rem;
  border-radius: var(--radius-pill);
  background: rgba(255, 255, 255, 0.05);
  font-size: 0.8rem;
  color: var(--muted);
}

.price {
  font-size: 2.2rem;
  margin: 0.8rem 0 1.5rem;
}

.checklist {
  list-style: none;
  padding-left: 0;
  margin: 0 0 2rem;
  color: var(--muted);
}

.checklist li {
  margin-bottom: 0.4rem;
}

.membership-buttons {
  display: flex;
  gap: 0.75rem;
}

/* Socials */

.social-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 1.3rem;
}

.social-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding-block: 2rem;
  gap: 0.55rem;
}

.social-icon img {
  width: 32px;
  height: 32px;
  object-fit: contain;
  margin-bottom: 0.25rem;
}

.social-follow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.4rem 1rem;
  margin-top: 0.1rem;
  border-radius: var(--radius-pill);
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  font-weight: 700;
  font-size: 0.8rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  transition: background 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

.social-card:hover .social-follow {
  background: var(--primary);
  box-shadow: 0 0 18px rgba(0, 166, 255, 0.35);
  transform: translateY(-1px);
}

.social-label {
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--muted);
}

/* Partners */

.partners-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 1rem;
}

.partner {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.partner img {
  width: 120px;
  height: auto;
}


/* 3 kolonner på mellomstore skjermer, 2 kolonner på mobil */
@media (max-width: 900px) {
  .partners-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 600px) {
  .partners-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Services */

.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.8rem;
}

.service {
  text-align: left;
  position: relative;
  padding-top: 2.8rem;
}

.services-grid .service h3 {
  margin-top: 0.4rem;
  margin-bottom: 0.8rem;
  font-size: 1.05rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.services-grid .service p {
  margin-top: 0.6rem;
  line-height: 1.55;
  font-size: 0.92rem;
}

/* Ikon-effekt */

.service-icon-wrap {
  position: absolute;
  top: -24px;
  left: 24px;
  width: 70px;
  height: 70px;
}

.service-icon-bg {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 30%, #ffffff22, #00000000 70%);
  filter: blur(12px);
  border-radius: 50%;
}

.service-icon {
  width: 70px;
  height: 70px;
  margin-bottom: 0.8rem;
  object-fit: contain;
  position: relative;
  z-index: 2;
  filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.35))
          drop-shadow(0 0 12px rgba(0, 150, 255, 0.25));
  transition: transform 0.25s ease, filter 0.25s ease;
}

.service:hover .service-icon {
  transform: scale(1.05);
  filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.45))
          drop-shadow(0 0 18px rgba(0, 150, 255, 0.35));
}

/* Mobil */

@media (max-width: 600px) {
  .service-icon-wrap {
    left: 16px;
    width: 58px;
    height: 58px;
  }
  .service-icon {
    width: 58px;
    height: 58px;
  }
}

/* Contact */

.contact-card {
  max-width: 860px;
  margin: 0 auto;
}

.contact-form {
  margin-top: 1.5rem;
}

.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  gap: 1rem;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

input,
textarea {
  background: #070f2c;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  padding: 0.75rem 0.9rem;
  color: var(--text);
  font: inherit;
}

input:focus,
textarea:focus {
  outline: 2px solid var(--primary);
  outline-offset: 1px;
}

.help-text {
  color: var(--muted);
  font-size: 0.85rem;
  margin-top: 0.8rem;
}

/* --- Julekalender --- */

    .calendar-section {
      position: relative;
      overflow: hidden;
      padding: 4rem 1.5rem;
      background: linear-gradient(135deg, #8b1a31, #d62839);
      color: #ffffff;
    }

    .calendar-section .editable-content {
      position: relative;
      z-index: 2;
    }

    .calendar-section::before {
      content: "";
      position: absolute;
      inset: 0;
  pointer-events: none;
  opacity: 0.35;
  background-image:
    radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.9) 0, transparent 40%),
    radial-gradient(circle at 80% 10%, rgba(255, 255, 255, 0.7) 0, transparent 45%),
    radial-gradient(circle at 50% 100%, rgba(255, 255, 255, 0.6) 0, transparent 50%);
  background-repeat: no-repeat;
}

    .calendar-inner {
      position: relative;
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
  gap: 3rem;
  align-items: center;
  z-index: 1;
}

.calendar-text h2 {
  font-size: clamp(2rem, 3vw, 2.5rem);
  margin-bottom: 1rem;
}

.calendar-text p {
  margin-bottom: 1.75rem;
  line-height: 1.6;
  font-size: 1rem;
}

.calendar-countdown {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 1.75rem;
}

.countdown-item {
  min-width: 70px;
  padding: 0.5rem 0.75rem;
  border-radius: 0.75rem;
  background: rgba(0, 0, 0, 0.28);
  text-align: center;
  backdrop-filter: blur(4px);
}

.countdown-number {
  display: block;
  font-size: 1.4rem;
  font-weight: 700;
}

.countdown-label {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  opacity: 0.8;
}

.btn.btn-calendar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.85rem 1.7rem;
  border-radius: 999px;
  background: #ffffff;
  color: #8b1a31;
  font-weight: 600;
  text-decoration: none;
  border: none;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.35);
}

.btn.btn-calendar:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
  background: #f7f7f7;
}

.calendar-visual {
  flex: 0 0 40%;
  display: flex;
  justify-content: center;
}

    .calendar-image {
      max-width: 100%;
      height: auto;
      border-radius: 1.5rem;
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.4);
    }

    .calendar-snow,
    .calendar-snow::before,
    .calendar-snow::after {
      content: "";
      position: absolute;
      inset: -10% -10% auto;
      height: 140%;
      background-image: radial-gradient(2px 2px at 20px 30px, #fff, transparent),
        radial-gradient(3px 3px at 60px 80px, rgba(255, 255, 255, 0.85), transparent),
        radial-gradient(1.5px 1.5px at 120px 20px, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 200px 70px, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(3px 3px at 260px 10px, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(2px 2px at 320px 90px, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(1.5px 1.5px at 400px 40px, rgba(255, 255, 255, 0.85), transparent),
        radial-gradient(2px 2px at 480px 100px, rgba(255, 255, 255, 0.8), transparent);
      background-size: 200px 200px;
      animation: calendar-snowfall 18s linear infinite;
      pointer-events: none;
      opacity: 0.35;
      z-index: 1;
    }

    .calendar-snow::before {
      animation-duration: 26s;
      opacity: 0.25;
      filter: blur(1px);
      transform: translateY(-6%);
    }

    .calendar-snow::after {
      animation-duration: 32s;
      opacity: 0.2;
      filter: blur(2px);
      transform: translateY(-10%);
    }

    @keyframes calendar-snowfall {
      0% {
        transform: translateY(-8%);
      }
      100% {
        transform: translateY(12%);
      }
    }

/* Responsivt */
@media (max-width: 900px) {
  .calendar-inner {
    flex-direction: column-reverse;
    text-align: center;
  }

  .calendar-countdown {
    justify-content: center;
  }

  .calendar-visual {
    flex: 0 0 auto;
  }
}

/* FAQ */

.section-faq {
  position: relative;
  overflow: hidden;
}

.faq-inner {
  position: relative;
  z-index: 1;
  max-width: 960px;
  margin: 0 auto;
  text-align: center;
}

.section-faq::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, #101a3e 0, #050b2b 55%, #020317 100%);
  transform: translateY(0%);
  transition: transform 0.9s ease-in-out;
  z-index: 0;
}

.section-faq.faq-visible::before {
  transform: translateY(-100%);
}

.faq-list {
  max-width: 840px;
  margin: 2rem auto 0;
  text-align: left;
}

.faq-item {
  background: #050814;
  border-radius: 14px;
  padding: 1rem 1.4rem;
  border: 1px solid rgba(255, 255, 255, 0.06);
  margin-bottom: 0.75rem;
}

.faq-item summary {
  list-style: none;
  cursor: pointer;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.faq-item summary::-webkit-details-marker {
  display: none;
}

.faq-item summary::after {
  content: "+";
  font-weight: 700;
  font-size: 1rem;
  color: var(--muted);
  transition: transform 0.2s ease, color 0.2s ease;
}

.faq-item[open] summary::after {
  content: "–";
  transform: translateY(-1px);
  color: var(--primary);
}

.faq-item p {
  margin-top: 0.75rem;
  color: var(--muted);
  font-size: 0.9rem;
}


  /* Admin blocks */
  body.is-admin .fb-edit-block {
    position: relative;
  }

  .fb-block-edit-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    z-index: 40;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.22);
    background: rgba(4, 17, 73, 0.95);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.45);
    color: #fff;
    font-size: 14px;
    cursor: pointer;
    opacity: 0;
    transform: translateY(-4px);
    transition:
      opacity 0.2s ease,
      transform 0.2s ease,
      box-shadow 0.2s ease;
  }

  body.is-admin .fb-edit-block:hover > .fb-block-edit-btn {
    opacity: 1;
    transform: translateY(0);
  }

  body.is-admin .fb-block-edit-btn:hover {
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.55);
  }

  .fb-edit-block.fb-editing-richtext {
    outline: 2px solid rgba(0, 166, 255, 0.4);
    outline-offset: 3px;
  }

  .fb-btn-small {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 0.4rem 0.9rem;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.16);
    background: rgba(255, 255, 255, 0.05);
    color: #fff;
    font-size: 0.92rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
  }

  .fb-btn-small:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
  }

  .fb-btn-small--primary {
    background: linear-gradient(120deg, #00a6ff, #4dd0ff);
    border: 1px solid rgba(0, 166, 255, 0.6);
    color: #0a1231;
  }

  .fb-btn-small--primary:hover {
    background: linear-gradient(120deg, #29b8ff, #6ee0ff);
  }

/* Footer */

  .site-footer {
    background: #020318;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    padding: 2rem 0 1.75rem;
    font-size: 0.9rem;
  }

  .footer-main {
    display: flex;
    justify-content: center;
  }

  .footer-menu {
    width: 100%;
    max-width: 640px;
    margin: 0 auto;
  }

  .footer-links {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem 2rem;
  }

  .footer-links a {
    color: var(--muted);
  }

  .footer-links a:hover {
    color: var(--primary);
  }

  .footer-bottom {
    margin-top: 1.8rem;
    padding-top: 1.2rem;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
    color: var(--muted);
    font-size: 0.8rem;
  }

  .footer-bottom-link {
    color: var(--text);
    font-weight: 600;
  }

  .footer-bottom-link:hover {
    color: var(--primary);
  }

  .last-updated {
    margin: 0;
    color: var(--muted);
  }

/* Inline visual editor */

.admin-toggle {
  display: none; /* Skjult for vanlige brukere */
  position: fixed;
  top: 80px;
  right: 24px;
  z-index: 9999;
  padding: 8px 14px;
  border-radius: 999px;
  border: none;
  font-size: 14px;
  background: rgba(15, 23, 42, 0.9);
  color: #fff;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.35);
  backdrop-filter: blur(10px);
}

/* Vis knappen kun når admin er logget inn */
body.is-admin .admin-toggle {
  display: inline-flex;
}

.admin-toggle.editing {
  background: #22c55e;
}

.section-toolbar {
  display: none;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  background: rgba(15, 23, 42, 0.85);
  color: #e5e7eb;
  backdrop-filter: blur(10px);
}

.section-toolbar button {
  border: none;
  background: rgba(59, 130, 246, 0.9);
  color: #fff;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: 12px;
  cursor: pointer;
}

.edit-mode .section-toolbar {
  display: flex;
}

.edit-mode [data-editable] {
  outline: 1px dashed rgba(96, 165, 250, 0.9);
  outline-offset: 2px;
  cursor: text;
}

.saved {
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.6);
}

.visual-editor {
  display: none !important; /* Skjul hele innholds-editoren permanent */
}

.visual-editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.visual-editor-title {
  font-weight: 700;
  font-size: 1.1rem;
}

.visual-editor-close {
  border: none;
  background: rgba(255, 255, 255, 0.08);
  color: #fff;
  width: 32px;
  height: 32px;
  border-radius: 10px;
  cursor: pointer;
}

.visual-editor-hint {
  margin: 0.35rem 0 0.8rem;
  color: var(--muted);
  font-size: 0.95rem;
}

.visual-editor form {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.visual-editor label {
  font-weight: 600;
  display: block;
  margin-bottom: 0.35rem;
}

.visual-editor input,
.visual-editor textarea {
  width: 100%;
  background: #050b2b;
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: #fff;
  border-radius: 12px;
  padding: 0.75rem 0.85rem;
}

.visual-editor textarea {
  min-height: 90px;
  resize: vertical;
}

.visual-editor .editor-actions {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  margin-top: 0.25rem;
}

.layout-editor {
  margin-top: 0.5rem;
  padding: 0.75rem;
  border-radius: 16px;
  background: rgba(9, 12, 30, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.layout-editor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.75rem;
}

.layout-title {
  font-weight: 700;
}

.layout-hint {
  color: var(--muted);
  font-size: 0.9rem;
  margin: 0.25rem 0 0;
}

.layout-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.layout-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 0.65rem;
  padding: 0.65rem 0.75rem;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  cursor: grab;
  transition: transform 0.12s ease, border-color 0.12s ease;
}

.layout-item:active {
  cursor: grabbing;
}

.layout-item.dragging {
  opacity: 0.85;
  transform: scale(0.995);
  border-color: rgba(0, 166, 255, 0.6);
}

.layout-handle {
  background: rgba(255, 255, 255, 0.08);
  width: 36px;
  height: 36px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.layout-labels {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.layout-labels small {
  color: var(--muted);
}

.layout-order {
  background: rgba(0, 166, 255, 0.12);
  color: #8ed8ff;
  padding: 0.3rem 0.55rem;
  border-radius: 999px;
  font-size: 0.8rem;
}

.layout-placeholder {
  height: 14px;
  border: 1px dashed rgba(0, 166, 255, 0.5);
  border-radius: 999px;
  margin: 4px 0;
}

  /* Mobil */

@media (max-width: 700px) {
  .footer-bottom {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (min-width: 900px) {
  .footer-menu {
    max-width: 760px;
  }

  .footer-links {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1rem 3rem;
  }
}

/* Responsive */

@media (max-width: 900px) {
  .hero-grid,
  .about-grid,
  .two-column,
  .feedback-grid {
    grid-template-columns: 1fr;
  }

  .hero {
    padding-top: 4rem;
  }

  .nav-links {
    display: none;
  }

}

  </style>
</head>
<body>
  <style>
    /* --- Felles --- */
    body.is-admin .editable-section {
      position: relative;
    }

    /* ===== INLINE EDITOR PER SEKSJON ===== */

    .fb-section-edit-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 40;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(4, 17, 73, 0.92);
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      opacity: 0;
      transform: translateY(-4px);
      transition: opacity 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
    }

    .editable-section:hover .fb-section-edit-btn {
      opacity: 1;
      transform: translateY(0);
    }

    .fb-section-edit-btn:hover {
      box-shadow: 0 0 0 2px rgba(19, 160, 249, 0.6);
    }

    /* Mens seksjonen er i edit-modus */
    .editable-section.fb-editing .editable-content {
      outline: 2px solid #13A0F9;
      background: rgba(0, 0, 0, 0.25);
    }

    .fb-inline-toolbar {
      position: absolute;
      top: 10px;
      right: 48px;
      z-index: 40;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(4, 17, 73, 0.96);
      font-size: 12px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #fff;
    }

    body.is-admin.fb-editor-on .editable-section.fb-section-disabled {
      opacity: 0.35;
      filter: grayscale(0.3);
      position: relative;
    }

    body.is-admin.fb-editor-on .editable-section.fb-section-disabled::after {
      content: "Seksjonen er deaktivert";
      position: absolute;
      bottom: 10px;
      right: 10px;
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(120, 120, 120, 0.9);
      color: #fff;
    }

    body:not(.fb-editor-on) .editable-section[data-section-enabled="false"] {
      display: none;
    }

    .fb-inline-toolbar button {
      border: none;
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.08);
      color: #fff;
    }

    .fb-inline-toolbar button.fb-save {
      font-weight: 600;
      background: #13A0F9;
    }

    .fb-inline-toolbar button.fb-cancel {
      opacity: 0.8;
    }

    /* ===== SIDEPANEL MED DRAG & DROP ===== */

    #fb-editor-panel {
      position: fixed;
      top: 76px;
      right: 20px;
      width: min(420px, calc(100% - 32px));
      z-index: 12000;
      color: #e5e7eb;
      background: rgba(8, 12, 38, 0.96);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 20px;
      padding: 1rem;
      box-shadow: 0 24px 64px rgba(0, 0, 0, 0.55);
      display: none;
    }

    body.visual-editor-on #fb-editor-panel {
      display: block;
    }

    #fb-editor-panel.fb-panel-hidden {
      display: none;
    }

    .fb-visual-panel__top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }

    .fb-visual-panel__title {
      font-size: 1.05rem;
      font-weight: 700;
      color: #fff;
      margin: 0;
    }

    .fb-visual-panel__hint,
    .fb-visual-panel__subhint {
      color: #94a3b8;
      font-size: 0.85rem;
      margin: 0.2rem 0 0;
    }

    .fb-visual-panel__content {
      margin-top: 1rem;
    }

    .fb-visual-panel__close {
      width: 36px;
      height: 36px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15, 23, 42, 0.7);
      color: #e5e7eb;
      cursor: pointer;
      font-size: 16px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: background 0.15s ease, border-color 0.15s ease;
    }

    .fb-visual-panel__close:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.35);
    }

    #section-order-list {
      list-style: none;
      margin: 0.75rem 0 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .fb-section-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.6rem 0.75rem;
      border-radius: 14px;
      background: rgba(15, 23, 42, 0.75);
      border: 1px solid rgba(148, 163, 184, 0.25);
      cursor: grab;
      user-select: none;
      gap: 0.75rem;
    }

    .fb-section-item:active {
      cursor: grabbing;
    }

    .fb-section-item__info {
      display: flex;
      align-items: center;
      gap: 0.65rem;
      min-width: 0;
    }

    .fb-section-item__handle {
      width: 22px;
      text-align: center;
      opacity: 0.8;
      font-size: 16px;
      color: #94a3b8;
    }

    .fb-section-item__title {
      font-size: 0.95rem;
      color: #e2e8f0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .fb-section-item__toggle {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.85rem;
      color: #cbd5e1;
    }

    .section-toggle {
      appearance: none;
      width: 38px;
      height: 22px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.3);
      border: 1px solid rgba(148, 163, 184, 0.3);
      position: relative;
      cursor: pointer;
      transition: background 0.15s ease, border-color 0.15s ease;
    }

    .section-toggle::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #0b162f;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
      transition: transform 0.15s ease, background 0.15s ease;
    }

    .section-toggle:checked {
      background: rgba(52, 211, 153, 0.3);
      border-color: rgba(52, 211, 153, 0.8);
    }

    .section-toggle:checked::after {
      transform: translateX(16px);
      background: #34d399;
    }

    .fb-section-item.fb-dragging {
      opacity: 0.7;
      border-color: rgba(19, 160, 249, 0.8);
      background: rgba(19, 160, 249, 0.12);
    }

    .fb-section-item.fb-over-before {
      box-shadow: inset 0 2px 0 #13A0F9;
    }

    .fb-section-item.fb-over-after {
      box-shadow: inset 0 -2px 0 #13A0F9;
    }
  </style>

  <div id="fb-editor-panel" class="fb-panel-hidden">
    <div class="fb-visual-panel__top">
      <div>
        <h2 class="fb-visual-panel__title">Visual editor</h2>
        <p class="fb-visual-panel__hint">Flytt på seksjonene og slå de av/på. Endringene lagres i nettleseren.</p>
      </div>
      <button
        type="button"
        id="close-visual-editor"
        class="fb-visual-panel__close"
        aria-label="Lukk visual editor"
      >
        ✕
      </button>
    </div>

    <div class="fb-visual-panel__content">
      <p class="fb-visual-panel__subhint">
        Dra i håndtaket for å endre rekkefølgen. Bruk bryteren for å vise/skjule en seksjon.
      </p>

      <ul id="section-order-list"></ul>
    </div>
  </div>

  <script>
    (function () {
      let initialized = false;
      const DEMO_MODE = true;
      const DEMO_STORE_KEY = 'fbAdminDemoState';

      function getDemoStore() {
        try {
          return JSON.parse(localStorage.getItem(DEMO_STORE_KEY) || '{}') || {};
        } catch (err) {
          console.warn('Kunne ikke lese admin-demo fra localStorage', err);
          return {};
        }
      }

      function persistDemoStore(data) {
        try {
          localStorage.setItem(DEMO_STORE_KEY, JSON.stringify(data || {}));
        } catch (err) {
          console.warn('Kunne ikke lagre admin-demo til localStorage', err);
        }
      }

      function updateDemoSection(sectionId, updates) {
        const store = getDemoStore();
        store.sections = store.sections || {};
        store.sections[sectionId] = { ...(store.sections[sectionId] || {}), ...updates };
        persistDemoStore(store);
      }

      function updateDemoOrder(order) {
        const store = getDemoStore();
        store.sections = store.sections || {};
        store.order = order || [];
        persistDemoStore(store);
      }

      const tryInit = () => {
        if (initialized) return;
        if (!document.body.classList.contains('is-admin')) return;

        const root = document.getElementById('fb-sections-root');
        if (!root) return;
        initialized = true;

        const sections = Array.from(root.querySelectorAll('.editable-section'));

        const updateDisabledClass = (section, enabled) => {
          if (!enabled) {
            section.classList.add('fb-section-disabled');
          } else {
            section.classList.remove('fb-section-disabled');
          }
        };

        const applyDemoState = () => {
          if (!DEMO_MODE) return;
          const store = getDemoStore();

          if (Array.isArray(store.order) && store.order.length) {
            store.order.forEach((id) => {
              const section = root.querySelector('.editable-section[data-section-id="' + id + '"]');
              if (section) root.appendChild(section);
            });
          }

          sections.forEach((section) => {
            const sectionId = section.dataset.sectionId || '';
            const data = store.sections?.[sectionId];
            if (!data) return;

            if (typeof data.enabled === 'boolean') {
              section.dataset.sectionEnabled = String(data.enabled);
              updateDisabledClass(section, data.enabled);
            }

            if (typeof data.content === 'string') {
              const editable = section.querySelector('.editable-content');
              if (editable) editable.innerHTML = data.content;
            }
          });
        };

        applyDemoState();

        /* ========= AKTIVER/DEAKTIVER PER SEKSJON ========= */
        sections.forEach((section) => {
          const sectionId = section.dataset.sectionId;
          if (!sectionId) return;

          const enabled = section.dataset.sectionEnabled !== 'false';
          section.dataset.sectionEnabled = String(enabled);
          updateDisabledClass(section, enabled);
        });

      /* ========= INLINE EDITOR PER SEKSJON ========= */

      sections.forEach((section) => {
        const editable = section.querySelector('.editable-content');
        if (!editable) return;
        const sectionId = section.dataset.sectionId || '';

        // blyant-ikon
        const editBtn = document.createElement('button');
        editBtn.type = 'button';
        editBtn.className = 'fb-section-edit-btn';
        editBtn.title = 'Rediger seksjon';
        editBtn.innerHTML = '✏️';
        section.appendChild(editBtn);

        // inline toolbar (lagre / avbryt)
        const toolbar = document.createElement('div');
        toolbar.className = 'fb-inline-toolbar';
        toolbar.style.display = 'none';
        toolbar.innerHTML = `
      <span>Redigerer: ${sectionId || 'seksjon'}</span>
      <button type="button" class="fb-save">Lagre</button>
      <button type="button" class="fb-cancel">Avbryt</button>
    `;
        section.appendChild(toolbar);

        const saveBtn = toolbar.querySelector('.fb-save');
        const cancelBtn = toolbar.querySelector('.fb-cancel');
        let originalHtml = '';

        editBtn.addEventListener('click', () => {
          if (section.classList.contains('fb-editing')) return;
          section.classList.add('fb-editing');
          originalHtml = editable.innerHTML;
          editable.setAttribute('contenteditable', 'true');
          editable.focus();
          toolbar.style.display = 'inline-flex';
        });

        cancelBtn.addEventListener('click', () => {
          editable.innerHTML = originalHtml;
          editable.setAttribute('contenteditable', 'false');
          toolbar.style.display = 'none';
          section.classList.remove('fb-editing');
        });

        saveBtn.addEventListener('click', async () => {
          const newContent = editable.innerHTML;
          if (DEMO_MODE) {
            updateDemoSection(sectionId, { content: newContent });
            editable.setAttribute('contenteditable', 'false');
            toolbar.style.display = 'none';
            section.classList.remove('fb-editing');
            console.log('Seksjon lagret lokalt (demo):', sectionId);
            return;
          }

          try {
            const res = await fetch('/api/admin/sections/' + encodeURIComponent(sectionId), {
              method: 'PUT',
              headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': window.csrfToken || '',
              },
              body: JSON.stringify({ content: newContent }),
            });

            if (!res.ok) throw new Error('Feil ved lagring');
            editable.setAttribute('contenteditable', 'false');
            toolbar.style.display = 'none';
            section.classList.remove('fb-editing');
            console.log('Seksjon lagret:', sectionId);
          } catch (err) {
            console.error(err);
            alert('Klarte ikke å lagre seksjonen. Prøv igjen.');
          }
        });
      });

      /* ========= SIDEPANEL MED DRAG & DROP ========= */

      const panel = document.getElementById('fb-editor-panel');
      const listEl = document.getElementById('section-order-list');
      const closeBtn = document.getElementById('close-visual-editor');

      closeBtn?.addEventListener('click', () => {
        panel?.classList.add('fb-panel-hidden');
        document.body.classList.remove('visual-editor-on');
        document.body.classList.remove('fb-editor-on');
        document.body.classList.remove('edit-mode');
      });

      const toggleSectionEnabled = async (sectionId, enabled) => {
        const section = root.querySelector('.editable-section[data-section-id="' + sectionId + '"]');
        if (!section) return;

        section.dataset.sectionEnabled = String(enabled);
        updateDisabledClass(section, enabled);

        if (DEMO_MODE) {
          updateDemoSection(sectionId, { enabled });
          return;
        }

        try {
          await fetch('/api/admin/sections/' + encodeURIComponent(sectionId), {
            method: 'PUT',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': window.csrfToken || '',
            },
            body: JSON.stringify({ enabled }),
          });
          console.log('Seksjon status lagret', sectionId, enabled);
        } catch (err) {
          console.error(err);
          alert('Kunne ikke lagre aktiv/av-status for seksjonen.');
        }
      };

      // bygg liste ut fra seksjonene på siden
      function buildSectionList() {
        if (!listEl) return;
        listEl.innerHTML = '';
        const currentSections = Array.from(root.querySelectorAll('.editable-section'));

        currentSections.forEach((section) => {
          const id = section.dataset.sectionId || '';
          const titleEl = section.querySelector('h1, h2, h3, h4');
          const titleText = titleEl ? titleEl.textContent.trim() : id || 'Uten navn';
          const enabled = section.dataset.sectionEnabled !== 'false';

          const li = document.createElement('li');
          li.className = 'fb-section-item';
          li.draggable = true;
          li.dataset.sectionId = id;

          const info = document.createElement('div');
          info.className = 'fb-section-item__info';

          const handle = document.createElement('span');
          handle.className = 'fb-section-item__handle';
          handle.textContent = '☰';

          const title = document.createElement('span');
          title.className = 'fb-section-item__title';
          title.textContent = titleText;

          info.appendChild(handle);
          info.appendChild(title);

          const toggleWrapper = document.createElement('label');
          toggleWrapper.className = 'fb-section-item__toggle';

          const checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.className = 'section-toggle';
          checkbox.dataset.sectionId = id;
          checkbox.checked = enabled;

          checkbox.addEventListener('change', () => {
            toggleSectionEnabled(id, checkbox.checked);
          });

          const toggleLabel = document.createElement('span');
          toggleLabel.textContent = 'Vis';

          toggleWrapper.appendChild(checkbox);
          toggleWrapper.appendChild(toggleLabel);

          li.appendChild(info);
          li.appendChild(toggleWrapper);
          listEl.appendChild(li);
        });
      }

      buildSectionList();

      let dragItem = null;

      if (listEl) {
        listEl.addEventListener('dragstart', (e) => {
          const li = e.target.closest('.fb-section-item');
          if (!li) return;
          dragItem = li;
          li.classList.add('fb-dragging');
          e.dataTransfer.effectAllowed = 'move';
        });

        listEl.addEventListener('dragend', () => {
          if (dragItem) dragItem.classList.remove('fb-dragging');
          listEl.querySelectorAll('.fb-section-item').forEach((el) => {
            el.classList.remove('fb-over-before', 'fb-over-after');
          });
          dragItem = null;
          applyOrderToSections();
          persistOrder();
        });

        listEl.addEventListener('dragover', (e) => {
          e.preventDefault();
          const target = e.target.closest('.fb-section-item');
          if (!target || target === dragItem) return;

          const rect = target.getBoundingClientRect();
          const offset = e.clientY - rect.top;

          listEl.querySelectorAll('.fb-section-item').forEach((el) => {
            el.classList.remove('fb-over-before', 'fb-over-after');
          });

          if (offset < rect.height / 2) {
            target.classList.add('fb-over-before');
            listEl.insertBefore(dragItem, target);
          } else {
            target.classList.add('fb-over-after');
            listEl.insertBefore(dragItem, target.nextSibling);
          }
        });
      }

      function applyOrderToSections() {
        if (!listEl) return;
        const orderIds = Array.from(listEl.querySelectorAll('.fb-section-item')).map((li) => li.dataset.sectionId);

        orderIds.forEach((id) => {
          const section = root.querySelector('.editable-section[data-section-id="' + id + '"]');
          if (section) {
            root.appendChild(section);
          }
        });
      }

      function persistOrder() {
        if (!listEl) return;
        const order = Array.from(listEl.querySelectorAll('.fb-section-item')).map((li) => li.dataset.sectionId);

        if (DEMO_MODE) {
          updateDemoOrder(order);
          console.log('Ny seksjonsrekkefølge lagret lokalt (demo)', order);
          return;
        }

        fetch('/api/admin/sections/order', {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': window.csrfToken || '',
          },
          body: JSON.stringify({ order }),
        })
          .then((res) => {
            if (!res.ok) throw new Error('Feil ved lagring av rekkefølge');
            console.log('Ny seksjonsrekkefølge lagret', order);
          })
          .catch((err) => {
            console.error(err);
            alert('Rekkefølgen ble endret i nettleseren, men kunne ikke lagres i databasen.');
          });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', tryInit);
      } else {
        tryInit();
      }

      window.addEventListener('fb:admin-authorized', tryInit);
    })();
  </script>
  <header class="top-nav">
    <div class="container nav-inner">
      <div class="logo">
        <img src="https://setaei.com/Fjolsen/Liggende-M%E2%94%9C%E2%95%95rk.png" alt="FjOlsenbanden logo" />
      </div>
      <nav class="nav-links">
        <a href="#about">Om</a>
        <a href="#video">FjOlsen</a>
        <a href="#membership">Medlemskap</a>
        <a href="#community">Community</a>
        <a href="#services">Andre tilbud</a>
        <a href="#contact">Kontakt</a>
        <a href="#faq">FAQ</a>
      </nav>
      <div class="nav-actions">
        <a href="#membership" class="btn btn-primary small">Bli medlem</a>
      </div>
    </div>
  </header>

  <button id="admin-toggle" class="admin-toggle" onclick="toggleEditMode()">
    ✏️ Visual editor
  </button>

  <main id="fb-sections-root">
    <section id="hero" class="section hero fb-section editable-section" data-section-id="hero" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Hero-seksjon</span>
            <button type="button" onclick="saveSection('hero')">Lagre</button>
          </div>
        </div>
        <div class="container hero-grid">
          <div class="hero-text">
            <span class="pill" data-editable data-field="pill">Velkommen</span>
            <h1 data-editable data-field="title">
              FjOlsenbanden er<br />
              <span class="highlight">Norges mest inkluderende gaming-community.</span>
            </h1>
            <p class="lead" data-editable data-field="ingress">
              En trygg arena for familier som elsker gaming, med fellesskap, premier og kreativitet i sentrum.
            </p>
            <div class="hero-actions">
              <a href="#membership" class="btn btn-primary" data-editable data-field="primary_cta_text">Bli medlem</a>
              <a href="#about" class="btn btn-ghost" data-editable data-field="secondary_cta_text">Les mer</a>
            </div>
          </div>
          <div class="hero-card screen-effects">
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>

            <img src="img/fjolsen-card.svg" alt="FjOlsen illustrasjon" />
          </div>
        </div>
      </div>
    </section>

    <section
      id="julekalender"
      class="section calendar-section fb-section editable-section"
      data-section-id="julekalender"
      data-section-enabled="true"
    >
      <div class="calendar-snow" aria-hidden="true"></div>
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Julekalender</span>
            <button type="button" onclick="saveSection('julekalender')">Lagre</button>
          </div>
        </div>
        <div class="calendar-inner">
          <div class="calendar-text">
            <h2 data-editable data-field="title">ÅRETS JULEKALENDER</h2>
            <p data-editable data-field="description">
              Vinn premier til verdi av over <strong>10 000 kroner!</strong><br />
              Meld deg på årets julekalender før <strong>1. desember</strong> og få
              <strong>10 ekstra lodd</strong> i den store giveaway <strong>25. desember</strong>!
            </p>

            <div class="calendar-countdown" data-countdown-target>
              <div class="countdown-item">
                <span class="countdown-number" data-countdown-part="days">0</span>
                <span class="countdown-label">dager</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" data-countdown-part="hours">0</span>
                <span class="countdown-label">timer</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" data-countdown-part="minutes">0</span>
                <span class="countdown-label">min</span>
              </div>
              <div class="countdown-item">
                <span class="countdown-number" data-countdown-part="seconds">0</span>
                <span class="countdown-label">sek</span>
              </div>
            </div>

            <a
              href="https://fjolsenbanden.julekalender.no/"
              class="btn btn-calendar"
              target="_blank"
              rel="noopener noreferrer"
              data-editable
              data-field="cta"
            >
              Gå til julekalenderen
            </a>
          </div>

          <div class="calendar-visual">
            <img
              src="/img/fjolsen-card.svg"
              alt="Fjolsenbandens Julekalender"
              class="calendar-image"
            />
          </div>
        </div>
      </div>
    </section>

    <section id="about" class="section fb-section editable-section" data-section-id="about" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Om-seksjon</span>
            <button type="button" onclick="saveSection('about')">Lagre</button>
          </div>
          <h2 data-editable data-field="title">Hva er <span class="highlight">FjOlsenbanden?</span></h2>
          <p class="subtitle" data-editable data-field="subtitle">
            Norges mest inkluderende gaming-community for hele familien.
          </p>
          <div class="about-grid">
            <div class="card card-large">
              <h3 data-editable data-field="goal_title">Målet med FjOlsenbanden</h3>
              <p data-editable data-field="goal_p1">
                Målet med FjOlsenbanden er å skape et trygt, positivt og inkluderende gamingmiljø der barn, ungdom –
                og mange foreldre – kan oppleve ekte mestring, samarbeid og fellesskap.
              </p>
              <p data-editable data-field="goal_p2">
                Hver uke legger FjOlsenFN ned utallige timer på å arrangere morsomme konkurranser og aktiviteter som
                skaper engasjement og samhold i hele communityet.
              </p>
              <p data-editable data-field="goal_p3">
                Premiene som deles ut er sponset av samarbeidspartnere fra næringslivet, eller finansiert gjennom
                frivillige bidrag fra foreldre – alt for å gi barna ekstra motivasjon og glede.
              </p>
              <p data-editable data-field="goal_p4">
                Alle som blir med i FjOlsenbanden får tittelen «FjOls» – hvor man blir en ambassadør som fremmer et
                positivt fellesskap, trygghet og stolthet.
              </p>
              <a href="#membership" class="btn btn-primary" data-editable data-field="cta">Bli medlem</a>
            </div>

            <div class="about-benefits">
              <div class="card card-pill">
                <h4 data-editable data-field="benefit1_title">Trygg gamingarena</h4>
                <p data-editable data-field="benefit1_text">
                  Alle aktiviteter overvåkes av voksne, med klare regler mot mobbing, banning og ekskludering.
                </p>
              </div>

              <div class="card card-pill">
                <h4 data-editable data-field="benefit2_title">Positivt fellesskap</h4>
                <p data-editable data-field="benefit2_text">
                  Vi har fokus på å lære barn og unge god nettadferd, samarbeid og kommunikasjon.
                </p>
              </div>

              <div class="card card-pill">
                <h4 data-editable data-field="benefit3_title">Familievennlig stream</h4>
                <p data-editable data-field="benefit3_text">
                  Alt innhold er bannfritt og passer for både barn og voksne å se sammen.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="video" class="section fb-section editable-section" data-section-id="video" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Video</span>
            <button type="button" onclick="saveSection('video')">Lagre</button>
          </div>
          <h2 data-editable data-field="title">Hvem er <span class="highlight">FjOlsen?</span></h2>
          <p class="subtitle" data-editable data-field="subtitle">
            FjOlsenFN – familievennlig streamer og grunnlegger av FjOlsenbanden.
          </p>
          <div class="two-column">
            <div class="card video-wrapper">
              <iframe
                src="https://www.youtube.com/embed/8EgRIkmvmtM"
                title="Slik deltar du på FjOlsenbanden customs"
                frameborder="0"
                allowfullscreen
              ></iframe>
            </div>
            <div class="card">
              <h3 data-editable data-field="profile_title">FjOlsenFN – Familievennlig streamer</h3>
              <p data-editable data-field="profile_p1">
                FjOlsenbanden ledes av Tor Martin «FjOlsenFN» Olsen. FjOlsen er en familievennlig streamer som ikke
                tillater banning, mobbing og brudd på nettvettsreglene.
              </p>
              <p data-editable data-field="profile_p2">
                Han startet prosjektet for å gi sine egne onkelbarn et trygt og bannefritt sted å spille. Det som
                begynte som et tiltak for å beskytte onkelbarna, har vokst til å omfatte alle barn som ønsker å være
                en del av FjOlsenbanden – hvor gjensidig trygghet, respekt og fellesskap står i fokus.
              </p>
              <p data-editable data-field="profile_p3">
                For han vet at så lenge hans egne onkelbarn spiller under trygge rammer, betyr det at også dine barn
                gjør det samme.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="feedback" class="section fb-section editable-section" data-section-id="feedback" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <h2>Tilbakemeldinger fra <span class="highlight">FjOlsenbanden</span></h2>
          <p class="subtitle">
            Takk til alle som sender flotte tilbakemeldinger til oss i FjOlsenbanden!
          </p>

          <div class="feedback-grid">
            <div class="card">
              <p>
                «Tusen takk for at jeg har fått muligheten til å spille hos FJOlsenbanden.
                Kan ikke takke nok for alt du har gjort for meg og alle andre. Tusen takk! ♥️
                Tror ikke du vet hvor mye jeg setter pris på dette. Du har vært hele grunnen
                til at jeg har blitt enda nærmere noen i real life venner. Tusen tusen takk for
                det ♥️»
              </p>
              <p class="feedback-name">Filip, medlem</p>
            </div>

            <div class="card">
              <p>
                «Du fortjener det mann! Du er så super streamer og den personen som
                setter et smil på alle som kommer inn. Jeg som er syk ble glad med
                engang jeg kom inn.»
              </p>
              <p class="feedback-name">Borkærn, medlem</p>
            </div>

            <div class="card">
              <p>
                «Tusen takk for alt du gjør for barn og ungdom som digger Fortnite – og for at du
                holder strenge og trygge rammer. Du skaper stor underholdningsverdi også for
                oss som ikke skjønner så mye av gamingverden! Du klarte å få barnet vårt til å
                glede seg til bursdagen sin og å skape et skikkelig lyspunkt i en ellers ganske
                tøff tilværelse. For det er vi foreldre (og storesøster) evig takknemlig.»
              </p>
              <p class="feedback-name">Pernille &amp; Terje, foreldre</p>
            </div>

            <div class="card">
              <p>
                «Du har så mye peil på how to, overflow barn! Veldig fint og observere
                hvordan iallfall KJ tjener på FJOlsen-events!! Og jeg kjenner en del som
                hadde hatt fullt utbytte av et pedagogisk opplegg i din regi! Respect.»
              </p>
              <p class="feedback-name feedback-name-accent">Merethe, mamma</p>
            </div>
          </div>

          <div class="center">
            <a href="#membership" class="btn btn-primary">Bli med i communityet</a>
          </div>
        </div>
      </div>
    </section>

    <section id="membership" class="section fb-section editable-section" data-section-id="membership" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Medlemskap</span>
            <button type="button" onclick="saveSection('membership')">Lagre</button>
          </div>
          <h2 data-editable data-field="title">Bli <span class="highlight">medlem</span> i dag.</h2>
          <p class="subtitle" data-editable data-field="subtitle">
            Det er helt gratis å bli medlem i FjOlsenbanden.<br />
            Ved å bli medlem kan du vinne premier og delta i giveaways.
          </p>

          <div class="center">
            <div class="card membership-card">
              <span class="badge">Gratis</span>
              <p class="price">0 kr/mnd</p>

              <ul class="checklist membership-features">
                <li data-editable data-field="feature1">Få medlemsrolle i Discord</li>
                <li data-editable data-field="feature2">Vinne premier i customs &amp; giveaways</li>
                <li data-editable data-field="feature3">Prioritet i kø til konkurranser foran ikke-medlemmer</li>
              </ul>

              <div class="membership-buttons">
                <a
                  href="https://forms.gle/sq4mUf7s6e6UY7R58"
                  class="btn btn-primary"
                  data-editable
                  data-field="cta_under18"
                >
                  Under 18 år
                </a>
                <a
                  href="https://forms.gle/ZrbXCggnUY8FTT7t9"
                  class="btn btn-secondary"
                  data-editable
                  data-field="cta_over18"
                >
                  Over 18 år
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="community" class="section fb-section editable-section" data-section-id="community" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Community</span>
            <button type="button" onclick="saveSection('community')">Lagre</button>
          </div>
          <h2 data-editable data-field="title">FjOlsenbanden – et community i <span class="highlight">vekst!</span></h2>
          <p class="subtitle" data-editable data-field="subtitle">
            FjOlsenbanden vokser raskt på tvers av kanalene våre. Vi deler nyheter, konkurranser og unike events i alle
            våre sosiale medier – følg oss for å få med deg alt som skjer.
          </p>

          <div class="social-grid">
            <a class="card social-card" data-social="twitch" href="https://www.twitch.tv/FjOlsenFN" target="_blank">
              <div class="social-icon">
                <img src="img/social/twitch.svg" alt="Twitch" />
              </div>
              <span class="social-follow">FØLG</span>
              <span class="social-label">Twitch</span>
            </a>
            <a class="card social-card" data-social="tiktok" href="https://www.tiktok.com/@fjolsenbanden" target="_blank">
              <div class="social-icon">
                <img src="img/social/tiktok.svg" alt="TikTok" />
              </div>
              <span class="social-follow">FØLG</span>
              <span class="social-label">TikTok</span>
            </a>
            <a class="card social-card" data-social="discord" href="https://discord.gg/CbvBPHzg4D" target="_blank">
              <div class="social-icon">
                <img src="img/social/discord.svg" alt="Discord" />
              </div>
              <span class="social-follow">FØLG</span>
              <span class="social-label">Discord</span>
            </a>
            <a
              class="card social-card fb-edit-block"
              data-social="youtube"
              data-block-id="social-youtube"
              data-edit-type="social"
              href="https://youtube.com/@fjolsenbanden"
              target="_blank"
            >
              <div class="social-icon">
                <img src="img/social/youtube.svg" alt="YouTube" />
              </div>
              <span class="social-follow">FØLG</span>
              <span class="social-label">YouTube</span>
            </a>
            <a
              class="card social-card fb-edit-block"
              data-social="instagram"
              data-block-id="social-instagram"
              data-edit-type="social"
              href="https://instagram.com/fjolsenbanden"
              target="_blank"
            >
              <div class="social-icon">
                <img src="img/social/instagram.svg" alt="Instagram" />
              </div>
              <span class="social-follow">FØLG</span>
              <span class="social-label">Instagram</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <section id="partners" class="section fb-section editable-section" data-section-id="partners" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Partner-seksjon</span>
            <button type="button" onclick="saveSection('partners')">Lagre</button>
          </div>
          <div class="partners-header">
            <h2 class="partners-title" data-editable data-field="title">
              Våre<br class="partners-title-break" />
              <span class="highlight">samarbeidspartnere</span>
            </h2>
            <p class="subtitle partners-subtitle" data-editable data-field="subtitle">
              Her er noen av våre samarbeidspartnere som har bidratt til<br class="partners-subtitle-break" />
              å skape minneverdige øyeblikk i FjOlsenbanden!
            </p>
          </div>

          <div class="partners-grid">
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-lenovo.png" alt="Lenovo" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-komplett.png" alt="Komplett" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-samsung.png" alt="Samsung" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-kristiania.png" alt="Kristiania" />
            </div>

            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-philips.png" alt="Philips" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-saily.png" alt="Saily" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/P-nki.svg" alt="NKI" />
            </div>
            <div class="card partner">
              <img src="https://setaei.com/Fjolsen/partnere/p-trondheimplay.png" alt="Trondheim Play" />
            </div>
          </div>

          <div class="partners-cta">
            <p data-editable data-field="cta_text">Ønsker du å synliggjøre din merkevare for vårt engasjerte gaming publikum?</p>
            <a class="btn btn-primary" href="#contact" data-editable data-field="cta_button">Kontakt oss</a>
          </div>
        </div>
      </div>
    </section>

    <section id="services" class="section fb-section editable-section" data-section-id="services" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="section-toolbar">
            <span>Andre tilbud</span>
            <button type="button" onclick="saveSection('services')">Lagre</button>
          </div>
          <h2 data-editable data-field="title">Andre tilbud</h2>
          <p class="subtitle" data-editable data-field="subtitle">FjOlsenbanden tilbyr mer enn bare streaming!</p>

          <div class="services-grid">
            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Sjokk.png" class="service-icon" alt="Foredrag ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="talk_title">FORE­DRAG</h3>
              <p class="service-description" data-editable data-field="talk_text">
                FjOlsen besøker skoler, idrettslag og e-sportklubber for å snakke om streaming, gaming-kultur og nettvett.
              </p>
            </div>

            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Glad%20tunge.png" class="service-icon" alt="Events ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="events_title">EVENTS</h3>
              <p class="service-description" data-editable data-field="events_text">
                Vi arrangerer gaming-konkurranser for bedrifter, skoler og klubber – både digitalt og fysisk.
              </p>
            </div>

            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Love.png" class="service-icon" alt="Unboxing ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="unboxing_title">UNBOXING</h3>
              <p class="service-description" data-editable data-field="unboxing_text">
                FjOlsen lager profesjonelle unboxing-videoer av dine produkter som kan brukes i deres markedsføring og deles med vårt
                community.
              </p>
            </div>

            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Glad%20tenner.png" class="service-icon" alt="Streamer ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="streamer_title">STREAMER FOR HIRE</h3>
              <p class="service-description" data-editable data-field="streamer_text">
                Ønsker du at FjOlsen skal streame på vegne av din merkevare? Han er tilgjengelig for co-streams, produktlanseringer og kampanjer – der ditt budskap
                blir formidlet på en autentisk og engasjerende måte til tusenvis av følgere.
              </p>
            </div>

            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Penger.png" class="service-icon" alt="Brand collabs ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="collabs_title">BRAND COLLABS</h3>
              <p class="service-description" data-editable data-field="collabs_text">
                FjOlsen samarbeider med merkevarer som ønsker trygg og familievennlig synlighet i gamingmiljøet vårt – gjennom sponsorinnhold,
                produktlanseringer og kampanjer tilpasset barn og foreldre.
              </p>
            </div>

            <div class="card service">
              <div class="service-icon-wrap">
                <div class="service-icon-bg"></div>
                <img src="https://setaei.com/Fjolsen/Sjokk.png" class="service-icon" alt="Digital kampanje ikon" />
              </div>
              <h3 class="service-title" data-editable data-field="digital_title">DIGITAL KAMPANJEPRODUKSJON</h3>
              <p class="service-description" data-editable data-field="digital_text">
                Produksjon av gaming- og SoMe-innhold for merkevarer som vil nå et ungt publikum – som short-form videoer, highlight-klipp og
                kampanjeinnhold skreddersydd til deres kanaler.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="section fb-section editable-section" data-section-id="contact" data-section-enabled="true">
      <div class="editable-content">
        <div class="container">
          <div class="card contact-card">
            <h2>Kontakt oss</h2>
            <p class="subtitle">
              Har du spørsmål om medlemskap, samarbeid eller events? Send oss en melding så kommer vi tilbake til deg.
            </p>
            <form action="#" method="POST" class="contact-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="name">Navn</label>
                  <input type="text" id="name" name="name" required />
                </div>
                <div class="form-group">
                  <label for="email">E-post</label>
                  <input type="email" id="email" name="email" required />
                </div>
              </div>

              <div class="form-group">
                <label for="message">Melding</label>
                <textarea id="message" name="message" rows="5" required></textarea>
              </div>

              <p class="help-text">Vi svarer så snart vi kan, som regel innen 1–2 virkedager.</p>

              <button type="submit" class="btn btn-primary">Send melding</button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <section id="faq" class="section section-faq fb-section editable-section" data-section-id="faq" data-section-enabled="true">
      <div class="editable-content">
        <div class="container faq-inner">
          <h2>Ofte stilte spørsmål</h2>
          <p class="subtitle">
            Her finner du svar på de vanligste spørsmålene om FjOlsenbanden.
          </p>

          <div class="faq-list">
            <details class="faq-item fb-edit-block" data-block-id="faq-1" data-edit-type="faq" open>
              <summary>Hva koster det å bli medlem?</summary>
              <p>Det er gratis å være med i FjOlsenbanden, men noen turneringer kan ha egen premie-pott.</p>
            </details>

            <details class="faq-item fb-edit-block" data-block-id="faq-2" data-edit-type="faq">
              <summary>Hvilken aldersgrense har dere?</summary>
              <p>Vi er tilpasset barn og unge, men foresatte må godkjenne deltakelse.</p>
            </details>

            <details class="faq-item fb-edit-block" data-block-id="faq-3" data-edit-type="faq">
              <summary>Hvordan blir jeg medlem?</summary>
              <p>
                Bla opp til seksjonen «Bli medlem» eller klikk på knappen i menyen. Der finner du lenker for både under
                og over 18 år.
              </p>
            </details>

            <details class="faq-item fb-edit-block" data-block-id="faq-4" data-edit-type="faq">
              <summary>Hva er FjOlsenbanden?</summary>
              <p>
                FjOlsenbanden er et familievennlig gaming-community der barn, ungdom og foreldre kan delta på trygge og
                inkluderende aktiviteter og events.
              </p>
            </details>

            <details class="faq-item fb-edit-block" data-block-id="faq-5" data-edit-type="faq">
              <summary>Hvordan sikrer dere trygg gaming?</summary>
              <p>
                Vi har tydelige regler mot mobbing, banning og ekskludering, og alle aktiviteter overvåkes av voksne.
              </p>
            </details>
          </div>

          <a
            href="#contact"
            id="add-faq-question-btn"
            data-visual-only
            class="hidden mt-6 inline-flex items-center justify-center px-6 py-3 rounded-full bg-[#04B2FF] text-sm font-semibold text-slate-900 shadow-lg shadow-cyan-500/30 hover:-translate-y-0.5 hover:shadow-cyan-400/50 transition"
          >
            + Legg til spørsmål
          </a>
        </div>
      </div>
    </section>
  </main>
<footer class="site-footer">
    <div class="container footer-main">
      <nav class="footer-menu">
        <ul class="footer-links">
          <li><a href="#about">Om FjOlsenbanden</a></li>
          <li><a href="#video">Se FjOlsen</a></li>
          <li><a href="#membership">Medlemskap</a></li>
          <li><a href="#community">Community</a></li>
          <li><a href="#services">Andre tilbud</a></li>
          <li><a href="#contact">Kontakt oss</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="https://fjolsenbanden.setaei.com/personvernerklaering.html">Personvernerklæring</a></li>
          <li><a href="#hero">Til toppen</a></li>
        </ul>
      </nav>
    </div>

    <div class="container footer-bottom">
      <p class="last-updated" id="last-updated"></p>
      <p>© 2025 Fjolsenbanden v/Fair Share Invest AS – Org.nr. 926 963 023</p>
      <a href="https://fjolsenbanden.setaei.com/regler.html" class="footer-bottom-link">Les reglene våre</a>
    </div>
  </footer>

  <div class="visual-editor" id="visual-editor" aria-hidden="true">
    <div class="visual-editor-header">
      <div class="visual-editor-title">Visual editor</div>
      <button class="visual-editor-close" id="visual-editor-close" aria-label="Lukk editor">×</button>
    </div>
    <p class="visual-editor-hint">Oppdater innholdet på forsiden. Endringene lagres i nettleseren og vises med en gang.</p>
    <form id="visual-editor-form">
      <div>
        <label for="ve-hero-title">Hero-overskrift</label>
        <input id="ve-hero-title" type="text" placeholder="Skriv ny overskrift" />
      </div>
      <div>
        <label for="ve-hero-pill">Merke (pill)</label>
        <input id="ve-hero-pill" type="text" placeholder="Kort label" />
      </div>
      <div>
        <label for="ve-hero-lead">Ingress</label>
        <textarea id="ve-hero-lead" placeholder="Beskriv hva FjOlsenbanden er"></textarea>
      </div>
      <div>
        <label for="ve-btn1-label">Primærknapp – tekst</label>
        <input id="ve-btn1-label" type="text" />
      </div>
      <div>
        <label for="ve-btn1-link">Primærknapp – lenke</label>
        <input id="ve-btn1-link" type="text" />
      </div>
      <div>
        <label for="ve-btn2-label">Sekundærknapp – tekst</label>
        <input id="ve-btn2-label" type="text" />
      </div>
      <div>
        <label for="ve-btn2-link">Sekundærknapp – lenke</label>
        <input id="ve-btn2-link" type="text" />
      </div>
      <div class="layout-editor" aria-label="Dra og slipp seksjoner">
        <div class="layout-editor-header">
          <div>
            <div class="layout-title">Dra og slipp seksjoner</div>
            <p class="layout-hint">Flytt seksjoner for å endre rekkefølgen på forsiden.</p>
          </div>
          <button type="button" class="btn btn-ghost small" id="layout-reset">Nullstill</button>
        </div>
        <div class="layout-list" id="layout-list" aria-live="polite"></div>
      </div>
      <div class="editor-actions">
        <button type="reset" class="btn btn-ghost small" id="visual-editor-reset">Tilbakestill</button>
        <button type="submit" class="btn btn-primary small">Lagre</button>
      </div>
    </form>
  </div>

  <script>
    (function () {
      const countdownRoot = document.querySelector('[data-countdown-target]');
      if (!countdownRoot) return;

      const targetDate = new Date('2025-12-25T18:00:00+01:00').getTime();

      const parts = {
        days: countdownRoot.querySelector('[data-countdown-part="days"]'),
        hours: countdownRoot.querySelector('[data-countdown-part="hours"]'),
        minutes: countdownRoot.querySelector('[data-countdown-part="minutes"]'),
        seconds: countdownRoot.querySelector('[data-countdown-part="seconds"]'),
      };

      function updateCountdown() {
        const now = Date.now();
        const diff = targetDate - now;

        if (diff <= 0) {
          Object.values(parts).forEach((el) => (el.textContent = '0'));
          return;
        }

        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / (60 * 60 * 24));
        const hours = Math.floor((totalSeconds / (60 * 60)) % 24);
        const minutes = Math.floor((totalSeconds / 60) % 60);
        const seconds = Math.floor(totalSeconds % 60);

        parts.days.textContent = String(days);
        parts.hours.textContent = String(hours).padStart(2, '0');
        parts.minutes.textContent = String(minutes).padStart(2, '0');
        parts.seconds.textContent = String(seconds).padStart(2, '0');
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    })();
  </script>

<script>
  (function () {
    const ADMIN_CODE = '1234';
    const CONFIG_KEY = 'fjAdminConfig';
    const AUTH_KEY = 'fjAdminAuthorized';
    const sectionsRoot = document.getElementById('fb-sections-root');
    let layoutListEl = null;
    let layoutResetBtn = null;
    let dragItem = null;

    function enableVisualEditor() {
      document.body.classList.add('visual-editor-on');

      document.querySelectorAll('[data-visual-only]').forEach((el) => {
        el.classList.remove('hidden');
      });

      const panel = document.getElementById('fb-editor-panel');
      panel?.classList.remove('fb-panel-hidden');
    }

    window.enableVisualEditor = enableVisualEditor;

    document.addEventListener('DOMContentLoaded', () => {
      initFaq();
      const cfg = loadConfig();
      if (cfg) applyAdminConfig(cfg);
      initAdminTools();
      setLastUpdated();
    });

    function initFaq() {
      const faqSection = document.getElementById('faq');
      if (!faqSection) return;

      const activateFaq = () => faqSection.classList.add('faq-visible');

      if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                activateFaq();
                obs.disconnect();
              }
            });
          },
          { threshold: 0.35 }
        );
        observer.observe(faqSection);
      } else {
        activateFaq();
      }

      const details = faqSection.querySelectorAll('details.faq-item');
      details.forEach((el) => {
        el.addEventListener('toggle', () => {
          if (el.open) {
            details.forEach((other) => {
              if (other !== el) other.open = false;
            });
          }
        });
      });
    }

    function initAdminTools() {
      const editor = document.getElementById('visual-editor');
      const editorClose = document.getElementById('visual-editor-close');
      const panelClose = document.getElementById('close-visual-editor');
      const editorForm = document.getElementById('visual-editor-form');
      const editorReset = document.getElementById('visual-editor-reset');
      layoutListEl = document.getElementById('layout-list');
      layoutResetBtn = document.getElementById('layout-reset');

      const hideEditorUI = () => {
        document.body.classList.remove('visual-editor-on', 'fb-editor-on', 'edit-mode');
        document.getElementById('fb-editor-panel')?.classList.add('fb-panel-hidden');
        editor?.classList.remove('open');
      };

      const authorized = localStorage.getItem(AUTH_KEY) === 'true';
      document.body.classList.toggle('is-admin', authorized);
      if (authorized) {
        enableVisualEditor();
        openEditor();
      }

      initLayoutEditor();

      editorClose?.addEventListener('click', hideEditorUI);
      panelClose?.addEventListener('click', hideEditorUI);

      editorReset?.addEventListener('click', (evt) => {
        evt.preventDefault();
        populateEditorForm(getEditableConfig());
      });

      editorForm?.addEventListener('submit', (evt) => {
        evt.preventDefault();
        const cfg = getEditableConfig();
        const hero = cfg.sections.hero;
        hero.title = document.getElementById('ve-hero-title')?.value || '';
        hero.pillText = document.getElementById('ve-hero-pill')?.value || '';
        hero.sectionText = document.getElementById('ve-hero-lead')?.value || '';
        hero.button1Label = document.getElementById('ve-btn1-label')?.value || '';
        hero.button1Href = document.getElementById('ve-btn1-link')?.value || '';
        hero.button2Label = document.getElementById('ve-btn2-label')?.value || '';
        hero.button2Href = document.getElementById('ve-btn2-link')?.value || '';

        saveConfig(cfg);
        applyAdminConfig(cfg);
      });

      function openEditor() {
        editor?.classList.add('open');
        populateEditorForm(getEditableConfig());
        renderLayoutList();
      }
    }

    function populateEditorForm(cfg) {
      const heroSection = document.getElementById('hero');
      const hero = cfg?.sections?.hero || {};

      setValue('ve-hero-title', hero.title || heroSection?.querySelector('h1')?.innerHTML || '');
      setValue('ve-hero-pill', hero.pillText || heroSection?.querySelector('.pill')?.textContent || '');
      setValue('ve-hero-lead', hero.sectionText || heroSection?.querySelector('.lead')?.textContent || '');

      const [btn1, btn2] = heroSection ? heroSection.querySelectorAll('.hero-actions a') : [];
      setValue('ve-btn1-label', hero.button1Label || btn1?.textContent || '');
      setValue('ve-btn1-link', hero.button1Href || btn1?.getAttribute('href') || '');
      setValue('ve-btn2-label', hero.button2Label || btn2?.textContent || '');
      setValue('ve-btn2-link', hero.button2Href || btn2?.getAttribute('href') || '');
    }

    function setValue(id, value) {
      const el = document.getElementById(id);
      if (el) {
        el.value = value;
        el.defaultValue = value;
      }
    }

    function getEditableConfig() {
      const cfg = loadConfig() || { sections: {}, global: {}, layout: {} };
      cfg.sections.hero = cfg.sections.hero || {};
      cfg.layout = cfg.layout || {};
      return cfg;
    }

    function loadConfig() {
      const raw = localStorage.getItem(CONFIG_KEY);
      if (!raw) return null;
      try {
        return JSON.parse(raw);
      } catch (e) {
        console.warn('Kunne ikke parse fjAdminConfig:', e);
        return null;
      }
    }

    function saveConfig(cfg) {
      localStorage.setItem(CONFIG_KEY, JSON.stringify(cfg));
    }

    function applyAdminConfig(cfg) {
      if (!cfg) return;
      const sections = cfg.sections || {};
      if (cfg.layout?.order?.length) {
        applyLayoutOrder(cfg.layout.order);
      }

      Object.entries(sections).forEach(([id, settings]) => {
        const section = document.getElementById(id);
        if (!section) return;

        if (settings.enabled === false) {
          section.style.display = 'none';
          return;
        }

        section.style.display = '';

        if (id === 'hero') {
          applyHeroSettings(section, settings);
          return;
        }

        if (settings.title) {
          const h2 = section.querySelector('h2');
          if (h2) h2.textContent = settings.title;
        }

        if (settings.subtitle) {
          const sub = section.querySelector('.subtitle');
          if (sub) sub.textContent = settings.subtitle;
        }
      });

      const global = cfg.global || {};

      if (global.logoUrl) {
        document.querySelectorAll('.logo img, .footer-logo').forEach((img) => {
          img.src = global.logoUrl;
        });
      }

      if (global.youtubeUrl) {
        const iframe = document.querySelector('#video iframe');
        if (iframe) {
          iframe.src = normalizeYoutube(global.youtubeUrl);
        }
      }

      if (global.socials) {
        const cards = document.querySelectorAll('.social-card');
        cards.forEach((card) => {
          const key = card.dataset.social;
          if (!key) return;
          const url = global.socials[key];
          if (url) card.href = url;
        });
      }
    }

    function initLayoutEditor() {
      if (!layoutListEl) return;

      layoutResetBtn?.addEventListener('click', () => {
        const defaultOrder = getDefaultSectionOrder();
        persistLayoutOrder(defaultOrder);
        renderLayoutList(defaultOrder);
      });

      renderLayoutList();
    }

    function renderLayoutList(order) {
      if (!layoutListEl) return;
      const cfg = getEditableConfig();
      const chosenOrder = normalizeOrder(order || cfg.layout?.order);
      layoutListEl.innerHTML = '';

      chosenOrder.forEach((id, index) => {
        const section = document.getElementById(id);
        if (!section) return;
        const item = document.createElement('div');
        item.className = 'layout-item';
        item.draggable = true;
        item.dataset.sectionId = id;
        item.innerHTML = `
          <div class="layout-handle" aria-hidden="true">⋮⋮</div>
          <div class="layout-labels">
            <div>${getSectionLabel(id)}</div>
            <small>${getSectionSubtitle(section)}</small>
          </div>
          <span class="layout-order">${index + 1}</span>
        `;

        item.addEventListener('dragstart', handleDragStart);
        item.addEventListener('dragenter', handleDragEnter);
        item.addEventListener('dragover', handleDragOver);
        item.addEventListener('drop', handleDrop);
        item.addEventListener('dragend', handleDragEnd);

        layoutListEl.appendChild(item);
      });
    }

    function getSectionSubtitle(section) {
      const title = section.querySelector('h2')?.textContent?.trim();
      if (title) return title;
      const paragraph = section.querySelector('p')?.textContent?.trim();
      return paragraph || 'Ingen beskrivelse';
    }

    function handleDragStart(evt) {
      dragItem = evt.currentTarget;
      evt.dataTransfer.effectAllowed = 'move';
      evt.dataTransfer.setData('text/plain', dragItem.dataset.sectionId || '');
      requestAnimationFrame(() => dragItem.classList.add('dragging'));
    }

    function handleDragEnter(evt) {
      const target = evt.currentTarget;
      if (!dragItem || target === dragItem) return;
      evt.preventDefault();
    }

    function handleDragOver(evt) {
      if (!dragItem) return;
      evt.preventDefault();
      const target = evt.currentTarget.closest('.layout-item');
      if (!target || target === dragItem || !layoutListEl) return;

      const rect = target.getBoundingClientRect();
      const before = evt.clientY < rect.top + rect.height / 2;
      if (before) {
        layoutListEl.insertBefore(dragItem, target);
      } else {
        layoutListEl.insertBefore(dragItem, target.nextSibling);
      }
    }

    function handleDrop(evt) {
      evt.preventDefault();
      if (!layoutListEl) return;
      persistLayoutOrder(getCurrentListOrder());
    }

    function handleDragEnd() {
      if (dragItem) {
        dragItem.classList.remove('dragging');
      }
      dragItem = null;
    }

    function persistLayoutOrder(order) {
      const cfg = getEditableConfig();
      const normalized = normalizeOrder(order);
      cfg.layout.order = normalized;
      saveConfig(cfg);
      applyLayoutOrder(normalized);
    }

    function normalizeOrder(order) {
      const available = getDefaultSectionOrder();
      const cleanOrder = Array.isArray(order) ? order.filter((id) => available.includes(id)) : [];
      available.forEach((id) => {
        if (!cleanOrder.includes(id)) cleanOrder.push(id);
      });
      return cleanOrder;
    }

    function getCurrentListOrder() {
      if (!layoutListEl) return getDefaultSectionOrder();
      return Array.from(layoutListEl.querySelectorAll('.layout-item')).map((item) => item.dataset.sectionId || '');
    }

    function applyLayoutOrder(order) {
      const normalized = normalizeOrder(order);
      const container = sectionsRoot;
      if (!container) return;

      normalized.forEach((id) => {
        const section = document.getElementById(id);
        if (section && container.contains(section)) {
          container.appendChild(section);
        }
      });

      renderLayoutList(normalized);
    }

    function getDefaultSectionOrder() {
      return Array.from((sectionsRoot || document).querySelectorAll('[data-section-id]')).map((section) => section.id);
    }

    function getSectionLabel(id) {
      const labels = {
        hero: 'Hero',
        about: 'Om FjOlsenbanden',
        video: 'Video',
        feedback: 'Tilbakemeldinger',
        membership: 'Medlemskap',
        community: 'Community',
        partners: 'Partnere',
        services: 'Andre tilbud',
        contact: 'Kontakt',
        faq: 'FAQ',
      };
      return labels[id] || id;
    }

    function normalizeYoutube(url) {
      if (!url) return url;
      if (url.includes('/embed/')) return url;

      const shortMatch = url.match(/youtu\.be\/([^?&]+)/);
      if (shortMatch) return 'https://www.youtube.com/embed/' + shortMatch[1];

      const longMatch = url.match(/[?&]v=([^&]+)/);
      if (longMatch) return 'https://www.youtube.com/embed/' + longMatch[1];

      return url;
    }

    function setLastUpdated() {
      const el = document.getElementById('last-updated');
      if (!el) return;

      const updated = new Date(document.lastModified);
      if (Number.isNaN(updated.getTime())) return;

      const date = updated.toLocaleDateString('nb-NO', { day: '2-digit', month: '2-digit', year: 'numeric' });
      const time = updated.toLocaleTimeString('nb-NO', { hour: '2-digit', minute: '2-digit' });
      el.textContent = `Sist oppdatert: ${date} kl. ${time}`;
    }

    function applyHeroSettings(section, settings) {
      const pill = section.querySelector('.pill');
      if (pill) {
        pill.textContent = settings.pillText || pill.textContent;
      }

      const lead = section.querySelector('.lead');
      if (lead && settings.sectionText) {
        lead.textContent = settings.sectionText;
      }

      const h1 = section.querySelector('h1');
      if (h1 && settings.title) {
        h1.innerHTML = settings.title;
      }

      const heroImg = section.querySelector('.hero-card img');
      if (heroImg && settings.heroImageUrl) {
        heroImg.src = settings.heroImageUrl;
      }

      const caption = section.querySelector('.hero-card-caption');
      if (caption && settings.heroImageCaption) {
        caption.textContent = settings.heroImageCaption;
      }

      const buttons = section.querySelectorAll('.hero-actions a');
      const [btn1, btn2] = buttons;
      if (btn1) {
        if (settings.button1Label) btn1.textContent = settings.button1Label;
        if (settings.button1Href) btn1.href = settings.button1Href;
      }
      if (btn2) {
        if (settings.button2Label) btn2.textContent = settings.button2Label;
        if (settings.button2Href) btn2.href = settings.button2Href;
      }
    }
  })();
</script>
<script>
  (function () {
    const SECTION_KEY = 'fjSectionEdits';
    const AUTH_KEY = 'fjAdminAuthorized';

    const isAuthorized = () => localStorage.getItem(AUTH_KEY) === 'true';

    const getSavedSections = () => {
      try {
        return JSON.parse(localStorage.getItem(SECTION_KEY) || '{}');
      } catch (err) {
        console.warn('Kunne ikke lese lagret innhold', err);
        return {};
      }
    };

    const persistSections = (data) => {
      localStorage.setItem(SECTION_KEY, JSON.stringify(data));
    };

    window.toggleEditMode = () => {
      if (!isAuthorized()) {
        return;
      }
      const editOn = document.body.classList.toggle('edit-mode');
      document.body.classList.toggle('fb-editor-on', editOn);
      if (editOn) {
        document.getElementById('fb-editor-panel')?.classList.remove('fb-panel-hidden');
      }
    };

    window.saveSection = (sectionId) => {
      if (!sectionId) return;
      if (!isAuthorized()) {
        return;
      }

      const section = document.getElementById(sectionId);
      if (!section) return;

      const edits = getSavedSections();
      edits[sectionId] = edits[sectionId] || {};

      section.querySelectorAll('[data-editable]').forEach((node) => {
        const field = node.dataset.field || '';
        if (!field) return;
        edits[sectionId][field] = node.innerHTML.trim();
      });

      persistSections(edits);
      section.classList.add('saved');
      setTimeout(() => section.classList.remove('saved'), 1200);
    };

    const applySavedSections = () => {
      const edits = getSavedSections();
      Object.entries(edits).forEach(([sectionId, fields]) => {
        const section = document.getElementById(sectionId);
        if (!section) return;

        Object.entries(fields || {}).forEach(([field, value]) => {
          const target = section.querySelector(`[data-field="${field}"]`);
          if (target && typeof value === 'string') {
            target.innerHTML = value;
          }
        });
      });
    };

    document.addEventListener('DOMContentLoaded', () => {
      if (isAuthorized()) {
        document.body.classList.add('is-admin');
        window.enableVisualEditor?.();
        window.dispatchEvent(new Event('fb:admin-authorized'));
      }
      applySavedSections();
    });
  })();
</script>
</body>
</html>
